{"version":3,"sources":["webpack:///./src/assets/problemManageSvg/img.svg","webpack:///./src/assets/problemManageSvg/extraUrgent.svg","webpack:///./src/views/problemMange/problemManageIndex.vue?50ab","webpack:///./src/assets/problemManageSvg/add.svg","webpack:///./src/assets/problemManageSvg/deleteSvg.svg","webpack:///./src/views/problemMange/problemHandling.vue","webpack:///src/views/problemMange/problemHandling.vue","webpack:///./src/views/problemMange/problemHandling.vue?0144","webpack:///./src/views/problemMange/problemHandling.vue?e549","webpack:///./src/views/problemMange/problemManageAdd.vue?7a6c","webpack:///./src/views/problemMange/problemManageScreen.vue?16f4","webpack:///./src/assets/problemManageSvg/screen.svg","webpack:///./src/assets/problemManageSvg/commonly.svg","webpack:///./src/assets/problemManageSvg/urgent.svg","webpack:///./src/assets/problemManageSvg/add_img.svg","webpack:///./src/views/problemMange/problemHandling.vue?433c","webpack:///./src/assets/problemManageSvg/screen_select.svg","webpack:///./src/assets/problemManageSvg/date.svg","webpack:///./src/assets/close.svg","webpack:///./src/assets/right.svg","webpack:///./src/assets/save.svg","webpack:///./src/views/problemMange/problemManageIndex.vue","webpack:///./src/views/problemMange/problemManageScreen.vue","webpack:///src/views/problemMange/problemManageScreen.vue","webpack:///./src/views/problemMange/problemManageScreen.vue?f4ce","webpack:///./src/views/problemMange/problemManageScreen.vue?41d3","webpack:///./src/views/problemMange/problemManageAdd.vue","webpack:///src/views/problemMange/problemManageAdd.vue","webpack:///./src/views/problemMange/problemManageAdd.vue?bfaa","webpack:///./src/views/problemMange/problemManageAdd.vue?29e2","webpack:///src/views/problemMange/problemManageIndex.vue","webpack:///./src/views/problemMange/problemManageIndex.vue?c695","webpack:///./src/views/problemMange/problemManageIndex.vue?de85","webpack:///./src/assets/problemManageSvg/empty-img-simple.png"],"names":["module","exports","render","_vm","this","_c","_self","staticClass","attrs","titleText","close","on","changeClose","userName","_m","date","_v","_s","Date","toLocaleDateString","replace","_l","problemImg","item","key","id","staticStyle","$event","showImg","imgPath","img","imgName","ref","afterRead","add_img","$refs","vanUploader","chooseFile","forwardTitle","forward","handelChange","model","value","forwardValue","callback","$$v","expression","style","width","show","changeTimeType","curDateText","curTimeText","timeType","confirm","cancel","timeChange","currentDate","completionTitle","completion","completionChange","completionValue","directives","name","rawName","description","domProps","target","composing","submit","staticRenderFns","components","navBar","data","showTime","overTime","pictureId","problemList","justProblem","questionId","justType","text","methods","u8arr","type","console","fromData","then","res","catch","err","handleTime","ImagePreview","params","personId","fileId","alert","state","comment","getCurTime","y","month","day","year","hour","minute","second","hour12","getCurProblem","paramsName","getProblemList","getPeople","reset","mounted","component","screenSvg","showScreen","draftList","length","continueEditing","agreementName","clickCg","_e","toProblemMangeDetails","extraUrgent","Mstate","unit","require","showAdd","add","btnTextVisible","height","addShow","contractorName","questionOptions","sub","curQuestion","clickQuestion","val","stateOptions","curState","clickState","btnVisible","resetAll","ok","deleteSvg","watch","territorialUnit","questionMajor","window","timeoutHdr","contractNameTitle","contractName","handelOpen","contractNameValue","contractCode","serviceTypeTitle","serviceType","serviceTypeValue","problemOneTitle","problemOne","problemOneValue","problemTwoTitle","problemTwo","problemTwoValue","detailedDes","modifiers","trim","$forceUpdate","violationRulesTitle","violationRules","violationRulesValue","violationDocuments","processOption","problemSizeClassification","giveScore","JSON","stringify","userInfo","userGroups","projectNameTitle","projectName","projectNameValue","projectCode","supervisorUnitTitle","supervisorUnit","supervisorUnitValue","contractor","territorialUnitTitle","territorialUnitValue","problemSpecialtyTitle","problemSpecialty","problemSpecialtyValue","aBoss","aGuardian","bBoss","bGuardian","dutyOptions","i","clickDuty","contractorDutyTitle","handleClose","contractorDutyValue","contractorDutyResult","contractorDuty","index","toggle","scopedSlots","_u","fn","refInFor","proxy","supervisorUnitDutyTitle","supervisorUnitDutyValue","supervisorUnitDutyResult","supervisorUnitDuty","territoryUnitDutyTitle","territoryUnitDutyValue","territoryUnitDutyResult","territoryUnitDuty","deductPoints","requiredTime","money","completedOnSiteTitle","completedOnSite","completedOnSiteValue","violatesTheSixTitle","violatesTheSix","violatesTheSixValue","selectViolatesTheSixTitle","selectViolatesTheSixValue","employeesUnsafeTitle","employeesUnsafe","employeesUnsafeValue","selectEmployeesUnsafeTitle","selectEmployeesUnsafeValue","contractorEmployeesUnsafeTitle","contractorEmployeesUnsafe","contractorEmployeesUnsafeValue","selectContractorEmployeesUnsafeTitle","selectContractorEmployeesUnsafeValue","isRequiredTimePopup","handleTimeType","showUpload","btnList","handelBtn","visible","banActionShow","right","changeBanActionShow","clickRight","curDropDown","banActionRadio","banActionList","clickRadio","ban_content","person_behavior_no","person_behavior","person_department","cperson_category","cperson_behavior","cperson_major","handlingShow","changeCloseHandling","clickSave","problemHandling","computed","processValue","processTitle","minDate","maxDate","checkTime","problemClassValue","problemClassTitle","problemClass","contractorDutyCheckData","contractorDirector","contractorDirectorStr","supervisorUnitDutyCheckData","supervisoryDirector","supervisoryDirectorStr","territoryUnitDutyCheckData","territorialDirector","territorialDirectorStr","banId","cpersonId","save","contractorPerson","supPerson","terPerson","contractorEchoPersonID","supervisoryEchoPersonID","territorialEchoPersonID","echoId","beforeRead","agreementId","agreementCode","agreementType","questionOne","questionTwo","categoryComment","safeId","safeTwo","safeThree","safeFour","checkContractor","checkUser","supervisoryUnit","questionCategory","questionContent","koufen","isFinish","checkContractorId","saveState","parameter","subState","checkData","chuanCanArr","handelStr","curData","curTitle","refStr","removeIndex","options","title","ele","clearTimeout","mustDel","handleResData","agreementCategoryName","oneCategory","programFileName","questionSize","score","arr","getAllAgreement","getValueByCode","getQuestionConf","getCommitSafeCheckConf","getGroupList","findAllProjectName","getToolData","getAllPersons","getQuestionManagementPerson","getPersonList","group","handleBackStr","str","backStr","problemManageScreen","problemManageAdd","urgent","commonly","query","getDraftList","changeScroll","document","beforeDestroy"],"mappings":"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CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,W,4EC4E/G,GACf+C,4BACAQ,YACAC,eAEAC,OACA,OACAhE,aAEAwC,QACAQ,iBACAJ,gBACAqB,iBACAvB,eACAC,eACAuB,YACArD,cACAsD,aACAjC,gBACAL,gBACAC,WACA1B,YACAgE,eACAC,eACApE,gBACAK,eACAe,cACAI,kBAGA6C,cACAC,YAIArB,aAAAsB,UAAAvC,SAAA,CAAAuC,WAAAvC,UACAgB,mBACAG,mBACAI,iBAGAiB,SACAjD,aAGA,gBAGA,mBACA,2BACA,aACA,WACA,oBACA,UACAkD,qBAEA,uBAAAC,SAZAC,2BAcA,qBACAC,gDACAD,0BACA,gDACAC,GACAC,KAAAC,IACAH,wBACA,gBACA,oCACA,sBAAAtD,sDAAAF,6BAAAJ,uBAEAgE,MAAAC,QAIA9E,cACA,aACA,mCAEA+E,aACA,aACA,qBACA,2BAEA/D,WACAgE,qBAEApD,gBACA,yBACA,cACA,6BAIAoB,oBACA,4BACA,cACA,gCAIAN,WAEA,aACA,uBAEAC,UAEA,cAEAC,kBACA,0BAEA,oBACA,yDACA,wDAGAN,kBACA,WACA,qCAIA,iBAEAmB,SACA,0BACA,4EACA,CACAwB,QACAd,2BACAK,mBACAU,2BACAC,mDACAhC,uBACAY,+DAGAY,KAAAC,IACAH,8BACA,eACA,2CAGA,CACA,4BAEA,YADAW,iBAGA,gFACA,CACAH,QACAd,2BACAkB,iDACAC,4BAGAX,KAAAC,IACAH,kCACA,eACA,sCAMAc,gBAEA,UACA,sBACA,8CAEAC,uCACAC,yCACAC,uCACA,IACA,wCAAAC,eAAAF,gBAAAC,cAAAE,eAAAC,iBAAAC,iBAAAC,YAAA,oBAEA,uCACA,8CAGA,IAGA,qDAEA,kCAGA,oBACA,mEACAtB,gCACA,gBACA,0BACAA,6CAGAuB,iBACA,SACA,6EAAAnF,OAAA,SACA4D,kDACA,mBACA,kDACAwB,qCACA,qBACA,kDACAA,2CACA,sBAEAA,2CACA,qBAEA,sBAMAC,kBACA,oBACA,oBACA,SACA,yFAEAzB,6BACA,mBACA,sCACAA,iDACAA,6BACA,qEACAA,4CACA,6EAAA5D,4BAAA,SACA4D,6BACA,mBACA,kDACAwB,qCACA,qBACA,kDACAA,2CACA,sBAEAA,2CACA,qBAEA,wBAIApB,MAAAC,QAIAqB,aACA,gBACA,qFACA1B,mCACA,eACAG,mBACA,SACAP,gBACAvC,YAEA,yBAIA+C,MAAAC,QAIA,gBAEA,kCACA,wBACA,mBACA,uBAIAsB,QACA,iBACA,kBACA,mBACA,gBACA,qBACA,qBAGA,mBACA,wBACA,wBACA,sBAGAC,aCrXwW,I,wBCQpWC,EAAY,eACd,EACAhH,EACAoE,GACA,EACA,KACA,WACA,MAIa,OAAA4C,E,6CCnBf,W,6DCAA,W,uBCAAlH,EAAOC,QAAU,IAA0B,2B,uBCA3CD,EAAOC,QAAU,IAA0B,6B,uBCA3CD,EAAOC,QAAU,IAA0B,2B,uBCA3CD,EAAOC,QAAU,IAA0B,4B,kCCA3C,W,uBCAAD,EAAOC,QAAU,IAA0B,kC,uBCA3CD,EAAOC,QAAU,IAA0B,yB,8CCA3CD,EAAOC,QAAU,IAA0B,0B,qBCA3CD,EAAOC,QAAU,IAA0B,0B,4CCA3CD,EAAOC,QAAU,IAA0B,yB,yCCA3C,IAAIC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,UAAY,OAAO,aAAeL,EAAIgH,WAAWxG,GAAG,CAAC,WAAaR,EAAIiH,eAAe,GAAG/G,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAA0B,GAAxBJ,EAAIkH,UAAUC,OAAajH,EAAG,MAAMF,EAAIkB,GAAIlB,EAAIkH,WAAW,SAAS9F,GAAM,OAAOlB,EAAG,MAAM,CAACmB,IAAID,EAAKE,GAAGlB,YAAY,aAAaI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIoH,gBAAgBhG,MAAS,CAAClB,EAAG,IAAI,CAACF,EAAIa,GAAGb,EAAIc,GAAGM,EAAKiG,cAAgBjG,EAAKiG,cAAgB,WAAWnH,EAAG,OAAO,CAACE,YAAY,QAAQI,GAAG,CAAC,MAAQR,EAAIsH,UAAU,CAACtH,EAAIa,GAAG,aAAY,GAAGb,EAAIuH,KAAgC,GAA1BvH,EAAI0E,YAAYyC,OAAajH,EAAG,MAAMF,EAAIkB,GAAIlB,EAAI0E,aAAa,SAAStD,GAAM,OAAOlB,EAAG,MAAM,CAACmB,IAAID,EAAKE,GAAGlB,YAAY,qBAAqBI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIwH,sBAAsBpG,MAAS,CAAClB,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAIyH,eAAevH,EAAG,KAAK,CAACF,EAAIa,GAAGb,EAAIc,GAAGM,EAAKiG,kBAAkBnH,EAAG,IAAI,CAACA,EAAG,OAAO,CAAC0C,MAAsB,OAAfxB,EAAKsG,OAAiB,iBAAkC,OAAftG,EAAKsG,OAAkB,iBAAkC,OAAftG,EAAKsG,OAAkB,iBAAmB,IAAK,CAAC1H,EAAIa,GAAGb,EAAIc,GAAGM,EAAKsG,WAAW1H,EAAIa,GAAG,IAAIb,EAAIc,GAAGM,EAAKuG,SAASzH,EAAG,IAAI,CAACA,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,WAAWb,EAAIa,GAAG,IAAIb,EAAIc,GAAGM,EAAKoD,kBAAiB,GAAGtE,EAAG,YAAY,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQuH,EAAQ,QAAkD,YAAc,WAAW,GAAG1H,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,OAAQvC,EAAI8C,KAAMH,WAAW,UAAUvC,YAAY,gBAAgB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,QAAQG,GAAG,CAAC,MAAQR,EAAI6H,UAAU,CAAC3H,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAI8H,OAAO5H,EAAG,OAAO,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,OAAQvC,EAAI+H,eAAgBpF,WAAW,qBAAqB,CAAC3C,EAAIa,GAAG,aAAa,GAAGX,EAAG,YAAY,CAAC0C,MAAO,CAAEoF,OAAQ,QAAU3H,MAAM,CAAC,SAAW,SAAS,SAAW,KAAKiC,MAAM,CAACC,MAAOvC,EAAI8C,KAAML,SAAS,SAAUC,GAAM1C,EAAI8C,KAAKJ,GAAKC,WAAW,SAAS,CAACzC,EAAG,sBAAsB,CAACM,GAAG,CAAC,YAAcR,EAAIS,gBAAgB,GAAGP,EAAG,YAAY,CAAC0C,MAAO,CAAEoF,OAAQ,QAAU3H,MAAM,CAAC,SAAW,SAAS,SAAW,KAAKiC,MAAM,CAACC,MAAOvC,EAAIiI,QAASxF,SAAS,SAAUC,GAAM1C,EAAIiI,QAAQvF,GAAKC,WAAW,YAAY,CAACzC,EAAG,mBAAmB,CAAC2B,IAAI,mBAAmBrB,GAAG,CAAC,YAAcR,EAAIS,gBAAgB,IAAI,IAEpvE0D,EAAkB,G,YCFlBpE,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,UAAY,OAAO,QAAUL,EAAIO,OAAOC,GAAG,CAAC,YAAcR,EAAIS,gBAAgB,GAAGP,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,WAAW,CAACA,EAAG,IAAI,CAACF,EAAIa,GAAG,WAAWX,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,MAAM,UAAY,IAAIiC,MAAM,CAACC,MAAOvC,EAAIkI,eAAgBzF,SAAS,SAAUC,GAAM1C,EAAIkI,eAAexF,GAAKC,WAAW,oBAAoBzC,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,MAAM,UAAY,IAAIiC,MAAM,CAACC,MAAOvC,EAAI2H,KAAMlF,SAAS,SAAUC,GAAM1C,EAAI2H,KAAKjF,GAAKC,WAAW,UAAUzC,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,MAAMF,EAAIkB,GAAIlB,EAAImI,iBAAiB,SAAS/G,GAAM,OAAOlB,EAAG,aAAa,CAACmB,IAAID,EAAKgH,IAAI/H,MAAM,CAAC,MAAQ,GAAG,KAAOL,EAAIqI,aAAejH,EAAKgH,IAAM,OAAS,WAAW5H,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIsI,cAAclH,MAAS,CAACpB,EAAIa,GAAGb,EAAIc,GAAGM,EAAKmH,WAAU,GAAGrI,EAAG,IAAI,CAACqB,YAAY,CAAC,aAAa,SAAS,CAACvB,EAAIa,GAAG,QAAQX,EAAG,MAAMF,EAAIkB,GAAIlB,EAAIwI,cAAc,SAASpH,GAAM,OAAOlB,EAAG,aAAa,CAACmB,IAAID,EAAKgH,IAAI/H,MAAM,CAAC,MAAQ,GAAG,KAAOL,EAAIyI,UAAYrH,EAAKgH,IAAM,OAAS,WAAW5H,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAI0I,WAAWtH,MAAS,CAACpB,EAAIa,GAAGb,EAAIc,GAAGM,EAAKmH,WAAU,IAAI,IAAI,GAAIvI,EAAI2I,WAAYzI,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,OAAO,CAACM,GAAG,CAAC,MAAQR,EAAI4I,WAAW,CAAC5I,EAAIa,GAAG,UAAUX,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,QAAQG,GAAG,CAAC,MAAQR,EAAI6I,KAAK,CAAC3I,EAAG,OAAO,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,OAAQvC,EAAI+H,eAAgBpF,WAAW,qBAAqB,CAAC3C,EAAIa,GAAG,WAAW,GAAGb,EAAIuH,QAEnjDpD,EAAkB,GC2CP,GACfP,0BACAQ,YACAC,eAEAC,OACA,OACA4D,kBACAP,QACAgB,cACAZ,kBACAI,iBACA,CAAAI,SAAAH,OACA,CAAAG,UAAAH,OACA,CAAAG,UAAAH,OACA,CAAAG,WAAAH,OACA,CAAAG,SAAAH,OACA,CAAAG,WAAAH,QAEAC,cACAG,cACA,CAAAD,SAAAH,OACA,CAAAG,UAAAH,OACA,CAAAG,UAAAH,OACA,CAAAG,UAAAH,QAEAK,WACAK,oBACAvI,kBAIAwI,OACA,0BACA7D,uBACA,oBAGAH,SACAtE,cACA,2BAEA6H,iBAEA,iCACA,eACA,2BAIAI,cAEA,8BACA,eACA,wBAIAE,WACA,uBACA,aACA,mBACA,iBAEAC,KACA,yBACA,CACAX,mCACAc,0BACAC,6GACAnD,iDACA,+CACA,mDACA,mDACA,gBAMAgB,UACA,WACAoC,sCAEA,uBACAA,uBACAC,yBAEA,wBACA,SCtI4W,I,wBCQxWpC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBXhH,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,UAAY,OAAO,QAAUL,EAAIO,OAAOC,GAAG,CAAC,YAAcR,EAAIS,gBAAgB,GAAGP,EAAG,MAAM,CAACE,YAAY,eAAe,CAACJ,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIoJ,kBAAkB,QAAUpJ,EAAIqJ,cAAc7I,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,SAAS,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIuJ,kBAAmB9G,SAAS,SAAUC,GAAM1C,EAAIuJ,kBAAkB7G,GAAKC,WAAW,wBAAwB,GAAGzC,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,MAAM,CAACF,EAAIa,GAAGb,EAAIc,GAAGd,EAAIwJ,aAAexJ,EAAIwJ,aAAe,QAAQxJ,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIyJ,iBAAiB,QAAUzJ,EAAI0J,YAAY,SAAW,IAAIlJ,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,SAAS,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAI2J,iBAAkBlH,SAAS,SAAUC,GAAM1C,EAAI2J,iBAAiBjH,GAAKC,WAAW,uBAAuB,GAAG3C,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAI4J,gBAAgB,QAAU5J,EAAI6J,YAAYrJ,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,UAAU,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAI8J,gBAAiBrH,SAAS,SAAUC,GAAM1C,EAAI8J,gBAAgBpH,GAAKC,WAAW,sBAAsB,GAAG3C,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAI+J,gBAAgB,QAAU/J,EAAIgK,YAAYxJ,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,UAAU,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIiK,gBAAiBxH,SAAS,SAAUC,GAAM1C,EAAIiK,gBAAgBvH,GAAKC,WAAW,sBAAsB,GAAGzC,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAA8B,MAAvBvC,EAAI+J,gBAAyBpH,WAAW,4BAA4BpB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,SAASX,EAAG,WAAW,CAACyD,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,eAAetB,MAAOvC,EAAIkK,YAAavH,WAAW,cAAcwH,UAAU,CAAC,MAAO,KAAQ9J,MAAM,CAAC,KAAO,KAAK,KAAO,IAAI,YAAc,MAAM,SAAkC,MAAvBL,EAAI+J,iBAAyBhG,SAAS,CAAC,MAAS/D,EAAIkK,aAAc1J,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOwC,OAAOC,YAAiBjE,EAAIkK,YAAY1I,EAAOwC,OAAOzB,MAAM6H,SAAQ,KAAO,SAAS5I,GAAQ,OAAOxB,EAAIqK,mBAAmBrK,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIsK,oBAAoB,QAAUtK,EAAIuK,gBAAgB/J,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,SAAS,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIwK,oBAAqB/H,SAAS,SAAUC,GAAM1C,EAAIwK,oBAAoB9H,GAAKC,WAAW,0BAA0B,GAAG3C,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIyK,mBAAmB,QAAUzK,EAAI0K,cAAc,SAAW,IAAIlK,GAAG,CAAC,OAASR,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIyK,mBAAoBhI,SAAS,SAAUC,GAAM1C,EAAIyK,mBAAmB/H,GAAKC,WAAW,yBAAyB,GAAGzC,EAAG,IAAI,CAACF,EAAIa,GAAG,YAAYX,EAAG,MAAM,CAACF,EAAIa,GAAGb,EAAIc,GAAGd,EAAI2K,0BAA4B3K,EAAI2K,0BAA4B,QAAQzK,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,MAAM,CAACF,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4K,UAAY5K,EAAI4K,UAAY,QAAQ1K,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,MAAM,CAACF,EAAIa,GAAGb,EAAIc,GAAmC,MAAhC+J,KAAKC,UAAU9K,EAAI+K,UAAoB/K,EAAI+K,SAASC,WAAW,GAAGpH,KAAO,QAAQ1D,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,MAAM,CAACF,EAAIa,GAAGb,EAAIc,GAAmC,MAAhC+J,KAAKC,UAAU9K,EAAI+K,UAAoB/K,EAAI+K,SAASnH,KAAO,QAAQ5D,EAAIW,GAAG,GAAGT,EAAG,MAAM,CAACE,YAAY,aAAaI,GAAG,CAAC,MAAQR,EAAIwF,aAAa,CAACtF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAIY,QAAQV,EAAG,OAAO,CAACF,EAAIa,GAAGb,EAAIc,GAAGd,EAAIiD,kBAAkB/C,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIiL,iBAAiB,QAAUjL,EAAIkL,aAAa1K,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,SAAS,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAImL,iBAAkB1I,SAAS,SAAUC,GAAM1C,EAAImL,iBAAiBzI,GAAKC,WAAW,uBAAuB,GAAGzC,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,MAAM,CAACF,EAAIa,GAAGb,EAAIc,GAAGd,EAAIoL,YAAcpL,EAAIoL,YAAc,QAAQpL,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIqL,oBAAoB,QAAUrL,EAAIsL,gBAAgB9K,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,SAAS,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIuL,oBAAqB9I,SAAS,SAAUC,GAAM1C,EAAIuL,oBAAoB7I,GAAKC,WAAW,0BAA0B,GAAG3C,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIwL,WAAW,QAAUxL,EAAI0K,cAAc,SAAW,IAAIlK,GAAG,CAAC,OAASR,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIwL,WAAY/I,SAAS,SAAUC,GAAM1C,EAAIwL,WAAW9I,GAAKC,WAAW,iBAAiB,GAAG3C,EAAIW,GAAG,GAAGT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIyL,qBAAqB,QAAUzL,EAAIgJ,iBAAiBxI,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,SAAS,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAI0L,qBAAsBjJ,SAAS,SAAUC,GAAM1C,EAAI0L,qBAAqBhJ,GAAKC,WAAW,2BAA2B,GAAG3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAI2L,sBAAsB,QAAU3L,EAAI4L,kBAAkBpL,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,SAAS,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAI6L,sBAAuBpJ,SAAS,SAAUC,GAAM1C,EAAI6L,sBAAsBnJ,GAAKC,WAAW,4BAA4B,GAAGzC,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUb,EAAIkB,GAAIlB,EAAImB,YAAY,SAASC,GAAM,OAAOlB,EAAG,MAAM,CAACmB,IAAID,EAAKE,GAAGlB,YAAY,YAAYmB,YAAY,CAAC,OAAS,eAAef,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIyB,QAAQL,EAAKM,YAAY,CAACxB,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAI2B,OAAOzB,EAAG,OAAO,CAACF,EAAIa,GAAGb,EAAIc,GAAGM,EAAKQ,iBAAgB1B,EAAG,eAAe,CAAC2B,IAAI,cAAcN,YAAY,CAAC,QAAU,QAAQlB,MAAM,CAAC,eAAc,EAAK,aAAaL,EAAI8B,aAAa5B,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAI+B,SAASvB,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIgC,MAAMC,YAAYC,iBAAiBlC,EAAIW,GAAG,IAAIT,EAAG,WAAW,CAACyD,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUtB,MAAOvC,EAAI8D,YAAanB,WAAW,gBAAgBtC,MAAM,CAAC,KAAO,KAAK,KAAO,IAAI,YAAc,OAAO0D,SAAS,CAAC,MAAS/D,EAAI8D,aAActD,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOwC,OAAOC,YAAiBjE,EAAI8D,YAAYtC,EAAOwC,OAAOzB,WAAUvC,EAAIW,GAAG,IAAIT,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,MAAM,UAAY,IAAIiC,MAAM,CAACC,MAAOvC,EAAI8L,MAAOrJ,SAAS,SAAUC,GAAM1C,EAAI8L,MAAMpJ,GAAKC,WAAW,WAAW3C,EAAIW,GAAG,IAAIT,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,MAAM,UAAY,IAAIiC,MAAM,CAACC,MAAOvC,EAAI+L,UAAWtJ,SAAS,SAAUC,GAAM1C,EAAI+L,UAAUrJ,GAAKC,WAAW,eAAe3C,EAAIW,GAAG,IAAIT,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,MAAM,UAAY,IAAIiC,MAAM,CAACC,MAAOvC,EAAIgM,MAAOvJ,SAAS,SAAUC,GAAM1C,EAAIgM,MAAMtJ,GAAKC,WAAW,WAAW3C,EAAIW,GAAG,IAAIT,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,MAAM,UAAY,IAAIiC,MAAM,CAACC,MAAOvC,EAAIiM,UAAWxJ,SAAS,SAAUC,GAAM1C,EAAIiM,UAAUvJ,GAAKC,WAAW,eAAe3C,EAAIW,GAAG,IAAIX,EAAIkB,GAAIlB,EAAIkM,aAAa,SAAS9K,EAAK+K,GAAG,OAAOjM,EAAG,aAAa,CAACmB,IAAI8K,EAAE9L,MAAM,CAAC,MAAQ,GAAG,KAAOe,EAAKgH,IAAM,OAAS,WAAW5H,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIoM,UAAUhL,EAAM+K,MAAM,CAACnM,EAAIa,GAAGb,EAAIc,GAAGM,EAAKmH,WAAUrI,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAOvC,EAAIkM,YAAY,GAAG9D,IAAKzF,WAAW,wBAAwB,CAAC3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIqM,qBAAqB7L,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,UAAU,OAAStJ,EAAIqC,aAAa,MAAQ,SAASb,GAAQ,OAAOxB,EAAIsM,YAAY,WAAWhK,MAAM,CAACC,MAAOvC,EAAIuM,oBAAqB9J,SAAS,SAAUC,GAAM1C,EAAIuM,oBAAoB7J,GAAKC,WAAW,wBAAwB,CAACzC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,qBAAqB,CAACoC,MAAM,CAACC,MAAOvC,EAAIwM,qBAAsB/J,SAAS,SAAUC,GAAM1C,EAAIwM,qBAAqB9J,GAAKC,WAAW,yBAAyB,CAACzC,EAAG,iBAAiBF,EAAIkB,GAAIlB,EAAIyM,gBAAgB,SAASrL,EAAKsL,GAAO,OAAOxM,EAAG,WAAW,CAACmB,IAAIqL,EAAMrM,MAAM,CAAC,UAAY,GAAG,MAAS,GAAEe,EAAK0D,MAAQtE,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAI2M,OAAOvL,EAAKmB,MAAOmK,EAAO,WAAWE,YAAY5M,EAAI6M,GAAG,CAAC,CAACxL,IAAI,aAAayL,GAAG,WAAW,MAAO,CAAC5M,EAAG,eAAe,CAAC2B,IAAI,2BAA2BkL,UAAS,EAAK1M,MAAM,CAAC,KAAOe,EAAKmB,WAAWyK,OAAM,IAAO,MAAK,QAAU,IAAI,IAAI,MAAM,IAAI,GAAG9M,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAOvC,EAAIkM,YAAY,GAAG9D,IAAKzF,WAAW,wBAAwB,CAAC3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIiN,yBAAyBzM,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,WAAW,OAAStJ,EAAIqC,aAAa,MAAQ,SAASb,GAAQ,OAAOxB,EAAIsM,YAAY,YAAYhK,MAAM,CAACC,MAAOvC,EAAIkN,wBAAyBzK,SAAS,SAAUC,GAAM1C,EAAIkN,wBAAwBxK,GAAKC,WAAW,4BAA4B,CAACzC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,qBAAqB,CAACoC,MAAM,CAACC,MAAOvC,EAAImN,yBAA0B1K,SAAS,SAAUC,GAAM1C,EAAImN,yBAAyBzK,GAAKC,WAAW,6BAA6B,CAACzC,EAAG,iBAAiBF,EAAIkB,GAAIlB,EAAIoN,oBAAoB,SAAShM,EAAKsL,GAAO,OAAOxM,EAAG,WAAW,CAACmB,IAAIqL,EAAMrM,MAAM,CAAC,UAAY,GAAG,MAAS,GAAEe,EAAK0D,MAAQtE,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAI2M,OAAOvL,EAAKmB,MAAOmK,EAAO,YAAYE,YAAY5M,EAAI6M,GAAG,CAAC,CAACxL,IAAI,aAAayL,GAAG,WAAW,MAAO,CAAC5M,EAAG,eAAe,CAAC2B,IAAI,+BAA+BkL,UAAS,EAAK1M,MAAM,CAAC,KAAOe,EAAK0D,UAAUkI,OAAM,IAAO,MAAK,QAAU,IAAI,IAAI,MAAM,IAAI,GAAG9M,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAOvC,EAAIkM,YAAY,GAAG9D,IAAKzF,WAAW,wBAAwB,CAAC3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIqN,wBAAwB7M,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,WAAW,OAAStJ,EAAIqC,aAAa,MAAQ,SAASb,GAAQ,OAAOxB,EAAIsM,YAAY,YAAYhK,MAAM,CAACC,MAAOvC,EAAIsN,uBAAwB7K,SAAS,SAAUC,GAAM1C,EAAIsN,uBAAuB5K,GAAKC,WAAW,2BAA2B,CAACzC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,qBAAqB,CAACoC,MAAM,CAACC,MAAOvC,EAAIuN,wBAAyB9K,SAAS,SAAUC,GAAM1C,EAAIuN,wBAAwB7K,GAAKC,WAAW,4BAA4B,CAACzC,EAAG,iBAAiBF,EAAIkB,GAAIlB,EAAIwN,mBAAmB,SAASpM,EAAKsL,GAAO,OAAOxM,EAAG,WAAW,CAACmB,IAAIqL,EAAMrM,MAAM,CAAC,UAAY,GAAG,MAAS,GAAEe,EAAK0D,MAAQtE,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAI2M,OAAOvL,EAAKmB,MAAOmK,EAAO,YAAYE,YAAY5M,EAAI6M,GAAG,CAAC,CAACxL,IAAI,aAAayL,GAAG,WAAW,MAAO,CAAC5M,EAAG,eAAe,CAAC2B,IAAI,8BAA8BkL,UAAS,EAAK1M,MAAM,CAAC,KAAOe,EAAK0D,UAAUkI,OAAM,IAAO,MAAK,QAAU,IAAI,IAAI,MAAM,IAAI,GAAG9M,EAAG,IAAI,CAACF,EAAIa,GAAG,QAAQX,EAAG,MAAM,CAACF,EAAIa,GAAGb,EAAIc,GAAGd,EAAIyN,cAAoC,OAApBzN,EAAIyN,aAAwBzN,EAAIyN,aAAe,QAAQvN,EAAG,IAAI,CAACF,EAAIa,GAAG,YAAYX,EAAG,MAAM,CAACE,YAAY,aAAaI,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIwF,WAAW,aAAa,CAACtF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAIY,QAAQV,EAAG,OAAO,CAACF,EAAIa,GAAGb,EAAIc,GAAGd,EAAI0N,mBAAmBxN,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,QAAQ,UAAY,IAAIiC,MAAM,CAACC,MAAOvC,EAAI2N,MAAOlL,SAAS,SAAUC,GAAM1C,EAAI2N,MAAMjL,GAAKC,WAAW,WAAW3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAI4N,qBAAqB,QAAU5N,EAAI6N,iBAAiBrN,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,WAAW,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAI8N,qBAAsBrL,SAAS,SAAUC,GAAM1C,EAAI8N,qBAAqBpL,GAAKC,WAAW,2BAA2B,GAAG3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAI+N,oBAAoB,QAAU/N,EAAIgO,gBAAgBxN,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,aAAa,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIiO,oBAAqBxL,SAAS,SAAUC,GAAM1C,EAAIiO,oBAAoBvL,GAAKC,WAAW,0BAA0B,GAAGzC,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAkC,KAA3BvC,EAAI+N,oBAA4BpL,WAAW,gCAAgC,CAAC3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIkO,0BAA0B,QAAU,IAAI1N,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,eAAe,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAImO,0BAA2B1L,SAAS,SAAUC,GAAM1C,EAAImO,0BAA0BzL,GAAKC,WAAW,gCAAgC,IAAI,GAAG3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIoO,qBAAqB,QAAUpO,EAAIqO,iBAAiB7N,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,gBAAgB,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIsO,qBAAsB7L,SAAS,SAAUC,GAAM1C,EAAIsO,qBAAqB5L,GAAKC,WAAW,2BAA2B,GAAGzC,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAmC,KAA5BvC,EAAIoO,qBAA6BzL,WAAW,iCAAiC,CAAC3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIuO,2BAA2B,QAAU,IAAI/N,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,kBAAkB,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAIwO,2BAA4B/L,SAAS,SAAUC,GAAM1C,EAAIwO,2BAA2B9L,GAAKC,WAAW,iCAAiC,IAAI,GAAG3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,OAAO,UAAY,OAAO,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAIyO,+BAA+B,QAAUzO,EAAI0O,2BAA2BlO,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,mBAAmB,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAI2O,+BAAgClM,SAAS,SAAUC,GAAM1C,EAAI2O,+BAA+BjM,GAAKC,WAAW,qCAAqC,GAAGzC,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAA6C,KAAtCvC,EAAIyO,+BAAuC9L,WAAW,2CAA2C,CAAC3C,EAAIW,GAAG,IAAIT,EAAG,oBAAoB,CAACG,MAAM,CAAC,gBAAgB,SAAS,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQL,EAAI4O,qCAAqC,QAAU,IAAIpO,GAAG,CAAC,KAAO,SAASgB,GAAQ,OAAOxB,EAAIsJ,WAAW,qBAAqB,OAAStJ,EAAIqC,cAAcC,MAAM,CAACC,MAAOvC,EAAI6O,qCAAsCpM,SAAS,SAAUC,GAAM1C,EAAI6O,qCAAqCnM,GAAKC,WAAW,2CAA2C,IAAI,IAAI,GAAGzC,EAAG,YAAY,CAACE,YAAY,aAAawC,MAAO,CAAEC,MAAO,OAASxC,MAAM,CAAC,MAAQ,IAAIiC,MAAM,CAACC,MAAOvC,EAAI8C,KAAML,SAAS,SAAUC,GAAM1C,EAAI8C,KAAKJ,GAAKC,WAAW,SAAS,CAACzC,EAAG,KAAK,CAACF,EAAIa,GAAG,UAAWb,EAAI8O,oBAAqB5O,EAAG,IAAI,CAACqB,YAAY,CAAC,aAAa,UAAUf,GAAG,CAAC,MAAQR,EAAI+O,iBAAiB,CAAC/O,EAAIa,GAAGb,EAAIc,GAAGd,EAAI0N,iBAAiBxN,EAAG,IAAI,CAACqB,YAAY,CAAC,aAAa,WAAW,CAACvB,EAAIa,GAAGb,EAAIc,GAAGd,EAAIiD,gBAAgB/C,EAAG,sBAAsB,CAACG,MAAM,CAAC,KAAOL,EAAIkD,UAAU1C,GAAG,CAAC,QAAUR,EAAImD,QAAQ,OAASnD,EAAIoD,QAAQd,MAAM,CAACC,MAAOvC,EAAIsD,YAAab,SAAS,SAAUC,GAAM1C,EAAIsD,YAAYZ,GAAKC,WAAW,kBAAkB,GAAGzC,EAAG,YAAY,CAACE,YAAY,eAAewC,MAAO,CAAEoF,OAAQ,SAAW3H,MAAM,CAAC,SAAW,UAAUiC,MAAM,CAACC,MAAOvC,EAAIgP,WAAYvM,SAAS,SAAUC,GAAM1C,EAAIgP,WAAWtM,GAAKC,WAAW,eAAe3C,EAAIkB,GAAIlB,EAAIiP,SAAS,SAAS7N,EAAK+K,GAAG,OAAOjM,EAAG,WAAW,CAACmB,IAAI8K,EAAE9L,MAAM,CAAC,UAAU,GAAG,OAAS,GAAG,MAAQe,EAAK,MAAQ,IAAIZ,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIkP,UAAU9N,UAAY,GAAGlB,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,iBAAiB,CAACH,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAOvC,EAAImP,QAASxM,WAAW,YAAYvC,YAAY,YAAY,CAACF,EAAG,OAAO,CAACF,EAAIa,GAAG,eAAeX,EAAG,QAAQA,EAAG,OAAO,CAACM,GAAG,CAAC,MAAQ,SAASgB,GAAQxB,EAAImP,SAAU,KAAS,CAACnP,EAAIa,GAAG,YAAYX,EAAG,YAAY,CAAC0C,MAAO,CAAEoF,OAAQ,QAAU3H,MAAM,CAAC,SAAW,UAAUiC,MAAM,CAACC,MAAOvC,EAAIoP,cAAe3M,SAAS,SAAUC,GAAM1C,EAAIoP,cAAc1M,GAAKC,WAAW,kBAAkB,CAACzC,EAAG,SAAS,CAACG,MAAM,CAAC,UAAY,GAAG,QAAUL,EAAIO,MAAM,aAAeP,EAAIqP,OAAO7O,GAAG,CAAC,YAAcR,EAAIsP,oBAAoB,WAAatP,EAAIuP,cAAmC,cAApBtP,KAAKuP,YAA6BtP,EAAG,IAAI,CAACE,YAAY,aAAa,CAACJ,EAAIa,GAAG,aAAkC,iBAApBZ,KAAKuP,YAAgCtP,EAAG,IAAI,CAACE,YAAY,aAAa,CAACJ,EAAIa,GAAG,kBAAkBX,EAAG,IAAI,CAACE,YAAY,aAAa,CAACJ,EAAIa,GAAG,oBAAoBX,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,kBAAkB,CAACoC,MAAM,CAACC,MAAOvC,EAAIyP,eAAgBhN,SAAS,SAAUC,GAAM1C,EAAIyP,eAAe/M,GAAKC,WAAW,mBAAmB,CAAC3C,EAAIkB,GAAIlB,EAAI0P,eAAe,SAAStO,GAAM,MAAO,CAAClB,EAAG,YAAY,CAACmB,IAAID,EAAKE,GAAGjB,MAAM,CAAC,KAAOe,EAAKE,IAAId,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAI2P,WAAWvO,MAAS,CAAClB,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAoB,OAAbnB,EAAK6D,KAAetC,WAAW,uBAAuBvC,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACF,EAAIa,GAAGb,EAAIc,GAAGM,EAAKwO,kBAAkB1P,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAoB,UAAbnB,EAAK6D,KAAkBtC,WAAW,0BAA0BvC,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACF,EAAIa,GAAGb,EAAIc,GAAGM,EAAKyO,oBAAoB,IAAI7P,EAAIc,GAAGM,EAAK0O,oBAAoB5P,EAAG,OAAO,CAACF,EAAIa,GAAGb,EAAIc,GAAGM,EAAK2O,wBAAwB7P,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,MAAoB,WAAbnB,EAAK6D,KAAmBtC,WAAW,2BAA2BvC,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACF,EAAIa,GAAGb,EAAIc,GAAGM,EAAK4O,kBAAkB,IAAIhQ,EAAIc,GAAGM,EAAK6O,qBAAqB/P,EAAG,OAAO,CAACF,EAAIa,GAAGb,EAAIc,GAAGM,EAAK8O,2BAA0B,IAAI,IAAI,GAAGhQ,EAAG,YAAY,CAAC0C,MAAO,CAAEoF,OAAQ,QAAU3H,MAAM,CAAC,SAAW,UAAUiC,MAAM,CAACC,MAAOvC,EAAImQ,aAAc1N,SAAS,SAAUC,GAAM1C,EAAImQ,aAAazN,GAAKC,WAAW,iBAAiB,CAACzC,EAAG,kBAAkB,CAAC2B,IAAI,kBAAkBrB,GAAG,CAAC,oBAAsBR,EAAIoQ,wBAAwB,GAAGlQ,EAAG,MAAM,CAACyD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAStB,OAAQvC,EAAImP,QAASxM,WAAW,aAAavC,YAAY,gBAAgB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQR,EAAIqQ,YAAY,CAACrQ,EAAIa,GAAG,QAAQX,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIkE,OAAO,aAAa,CAAClE,EAAIa,GAAG,SAAS,IAAI,IAEj9jBsD,EAAkB,CAAC,WAAY,IAAInE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UACjJ,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC5H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC7H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC7H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC5H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC5H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC5H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC5H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,QAAQX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC3H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC5H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC5H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,SAASX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC5H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,YAAYX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC/H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC7H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,YAAYX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC/H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC7H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,QAAQX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC3H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,UAAUX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC7H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,WAAWX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC9H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,WAAWX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC9H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,WAAWX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAC9H,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,aAAaX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UAChI,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACA,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,gBACxF,WAAY,IAAIvB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,gBAAgBX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UACnI,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACA,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,gBACxF,WAAY,IAAIvB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACF,EAAIa,GAAG,mBAAmBX,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,YAAY,CAACvB,EAAIa,GAAG,UACtI,WAAY,IAAIb,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACA,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,iB,sFCkS3E,GACfqC,uBACAQ,YACAC,cACAiM,wBAEAC,UACA9C,eAEA,+CACA,2FAGAnJ,OACA,OACAxB,QACAkM,cACAG,WACAC,iBACAe,gBACApF,YACAyF,gBACAC,mBACA/F,iBACA5G,eACAgI,SACAC,aACAC,SACAC,aACA0B,SACAzF,kBACAgE,aACA,CAAA3D,UAAAH,OACA,CAAAG,WAAAH,OACA,CAAAG,WAAAH,QAEAsI,2BACAC,4BACArN,qBACAJ,gBACAD,eACA6L,uBACApB,gBACAkD,aACApM,YACAC,aACAwK,4BACAO,eACAhG,gBACAgC,cACAf,sBACAE,6BACAC,cACAQ,eAEA7B,qBACAH,qBACAC,gBACAM,oBACAF,oBACAC,eACAI,mBACAF,mBACAC,cACAI,mBACAF,mBACAC,cACAE,eACAM,uBACAF,uBACAC,kBACAmB,wBACAD,wBACAzC,mBACAmC,oBACAF,oBACAC,eACAK,uBACAF,uBACAC,gBACA,CAAAxG,sBAAAvC,SACA,CAAAuC,YAAAvC,SACA,CAAAuC,WAAAvC,UAEAsO,qBACAC,qBACAC,cACA,CAAAjM,UAAAvC,SACA,CAAAuC,UAAAvC,SACA,CAAAuC,UAAAvC,SACA,CAAAuC,UAAAvC,UAEAsJ,yBACAF,yBACAC,kBACA,CAAA9G,WAAAvC,SACA,CAAAuC,WAAAvC,SACA,CAAAuC,YAAAvC,SACA,CAAAuC,UAAAvC,SACA,CAAAuC,YAAAvC,UAEApB,gBACAoL,uBACAF,uBACAG,wBACAwE,2BACAC,sBACAC,yBACAzE,kBAWAS,2BACAD,2BACAE,4BACAgE,+BACAC,uBACAC,0BACAjE,sBACAE,0BACAD,0BACAE,2BACA+D,8BACAC,uBACAC,0BACAhE,qBACAM,wBACAF,wBACAC,kBAAA/I,SAAAvC,SAAA,CAAAuC,SAAAvC,UACA0L,uBACAF,uBACAC,iBAAAlJ,SAAAvC,SAAA,CAAAuC,SAAAvC,UACA4L,6BACAD,6BACAI,wBACAF,wBACAC,kBAAAvJ,SAAAvC,SAAA,CAAAuC,SAAAvC,UACAiM,8BACAD,8BACAI,kCACAF,kCACAC,4BAAA5J,SAAAvC,SAAA,CAAAuC,SAAAvC,UACAsM,wCACAD,wCACAa,oBAGAC,iBACA+B,SACA9L,YACA+L,aACAnR,gBACAoR,eACAtC,gBACAzO,eACAe,cACAI,kBACA2C,eACAkN,oBACAC,aACAC,aACAC,0BACAC,2BACAC,2BACAC,YAGAnN,SACAjD,aAGA,gBACAoD,sCAEA,mBACA,2BACA,aACA,WACA,oBACA,UACAF,qBAEA,uBAAAC,SAZAC,2BAcA,qBACAC,gDACAD,0BACA,gDACAC,GACAC,KAAAC,IACAH,wBACA,gBACA,oCACA,sBAAAtD,sDAAAF,6BAAAJ,uBAEAgE,MAAAC,QAIA4M,cACAjN,6BAEAzE,cAEA,aACA,2BAEA4P,YACA,yBAEAf,sBACA,uBAEAC,aACA,uBAEAI,cAEA,eACA,gBACA,8CACA,kBACA,mBACA,mDACA,oBACA,oBACA,+DAGAS,uBACA,GACA,0BAEA,sBAEAlM,UACA,+BAEA,GADAgB,qCACA,EAEA,CACAA,mBACA,OACAkN,6DACA/K,+DACAgL,qDACAzN,wDACAH,sDACA6N,6DACAC,yDACAC,yDACAC,qDACAC,4DACAC,2DACAC,2EACAC,0CACAC,qFACAC,mDACAnC,2CACA1F,2DACAE,iDACA4H,qEACAxH,8CACAxC,uEACAiK,kEACAhK,uEAEAiK,qDACApH,+BACAC,2CACAC,+BACAC,2CACAgF,4EACAG,+EACAG,+EACA4B,8CACA3O,wCACAmJ,+BAEA7H,QACAsN,mCACAC,uDACA5B,8BACA9L,uCACA+L,0CACAE,uCACAC,yBACAC,yBACAxQ,eACAgS,eAEA,mBACA,mBAEA,KAEApO,2BACA,6EACAqO,GACAnO,KAAAC,IAEA,GADAH,8BACA,cAIA,OAFA,kBACA,gCAkBA,uBACA,SACA,mGAGA,OAFAsO,KACA3N,oBACA,EAEA,8BAGA,OAFA2N,KACA3N,iBACA,EAEA,6BAGA,OAFA2N,KACA3N,iBACA,EAEA,4BAGA,OAFA2N,KACA3N,kBACA,EAEA,4BAGA,OAFA2N,KACA3N,kBACA,EAEA,gCACA,iBAGA,OAFA2N,KACA3N,iBACA,EAGA,gCAGA,OAFA2N,KACA3N,iBACA,EAEA,+BAGA,OAFA2N,KACA3N,iBACA,EAEA,gCAGA,OAFA2N,KACA3N,iBACA,EAEA,uBAGA,OAFA2N,KACA3N,gBACA,EAEA,iCAGA,OAFA2N,KACA3N,iBACA,EAOA,kCAGA,OAFA2N,KACA3N,iBACA,EAEA,wBAGA,OAFA2N,KACA3N,iBACA,EAEA,kBAGA,OAFA2N,KACA3N,oBACA,EAEA,sBAGA,OAFA2N,KACA3N,kBACA,EAEA,kBAGA,OAFA2N,KACA3N,oBACA,EAEA,sBAGA,OAFA2N,KACA3N,kBACA,EAEA,iCAGA,OAFA2N,KACA3N,mBACA,EAGA,iCAEA,4BACA,4EAEAX,uBACA,4BACA,oDACAA,uDAGA,qCAEA,4BACA,yDACA,4BAGAA,wBAEA,4BACA,6CACAA,yCAIA,oCAEA,4BACA,yDACA,6BAGAA,wBAEA,4BACA,6CACAA,yCAKA,OADAA,gCACA,GAEAyH,cAEAzH,4BACA,SACA,KACA,KACA,KACA,KACA,KACA,UACA,YACAuO,4BACAC,uBACAC,0BACAC,mBACAC,wBACAC,6BACA,MACA,aACAL,gCACAC,wBACAC,2BACAC,uBACAC,4BACAC,iCACA,MACA,aACAL,+BACAC,wBACAC,2BACAC,sBACAC,2BACAC,gCACA,MAEA,QACA,MAEA,0BACA,WACA,oBAEA,cACA,4BACA,qBACA,cAAAhP,YAAAvC,kBAEAwR,0BACA,oBACA,qBAEA,wCAGA,WACA,oBACA,kCAGA,0CACA,4BAEAzK,cAEA,mBACA,6DACA,sBACA,oBAGA,YACA,oBAEA,mCAEA,oDACA,GACA,oDAKA,aACA,oBAEA,uCAEA,qDACA,GACA,wDAKA,aACA,oBAEA,sCAEA,qDACA,GACA,wDAMAgD,eAGA,YACA,oBAEA,mCAEA,oDACA,GACA,oDAKA,aACA,oBAEA,uCAEA,qDACA,GACA,wDAKA,aACA,oBAEA,sCAEA,qDACA,GACA,wDAMAjK,kBAEA,SACA,KACA,yBACA,WACA2R,iBACAC,sBACA,MACA,WACAD,gBACAC,qBACA,MAEA,YACAD,eACAC,oBACA,MACA,YACAD,eACAC,oBACA,MACA,WACAD,mBACAC,wBACA,MACA,WACAD,oBACAC,yBACA,MACA,WACAD,gBACAC,qBACA,MACA,WACAD,mBACAC,wBACA,MACA,WACAD,iBACAC,sBACA,MACA,WACAD,qBACAC,0BACA,MACA,YACAD,mBACAC,wBACA,MACA,aACAD,uBACAC,4BACA,MACA,aACAD,sBACAC,2BACA,MACA,aACAD,oBACAC,yBACA,MACA,eACAD,mBACAC,wBACA,MACA,kBACAD,oBACAC,yBACA,MACA,qBACAD,8BACAC,mCACA,MAEA,QACA,MAEA,oBACA,cACA,eAEA,2BACA,sBACA,kCACA,iCACA,+CAEA,4BACA,wBACA,yBAEA,2CACA,mCACA,6BACA,sBAGA,oBACA,2CAEA,UACA,wBAEA,2BACA,+CAEA,2BACA,oBAEA,0BACA,2BAEA,0BACA,yCAEA,OACA,yBACA,+BACA,cACA,mCAEA,kCACA,iBACA,oCAEA,qCACA,kBACA,mDAMA7H,eAEA,2CACA,qCACA,2CACA,eACA,6BACA,kBACA8H,WAGA,gBACA,sBACA,gBACAC,iBACA,OAGAC,YAGA5O,cAEA,aACA,qBAEA,yBADA,aAQAuJ,iBAEA,mDAEA5L,WAEA,aACA,SACA,KACA,KACA,wBACA8C,uCACAC,uCACAC,wCAGA,sBACA,0BACA,8EACAjB,qHACA,wHACAA,6CAEA,mCACA,2DAIA,gGACA,2GAOA9B,UAEA,cAEA3B,WACAyD,yBACAO,qBAEAyJ,aACA,oBAgBAmF,mBAEA,SACA,OACA,OACA,UACA,WACAvP,kBACAvC,OACA,MACA,YACAuC,UACAvC,QACA,MACA,YACAuC,gBACAvC,OACA,MACA,WACAuC,gBACAvC,OACA,MACA,WAEA,MACA,YACAuC,SACAvC,OACA,MACA,aACAuC,SACAvC,OACA,MACA,aACAuC,SACAvC,OACA,MAEA,QACA,MAmBA,OAjBA+B,kBACA,SACAQ,iBACAvC,kBAEA8P,iDACAiC,yEACApM,oDAEAqM,2CAEAC,uDACAC,8CACAC,0BAEAC,YAEA,GAGAC,kBACA,uEACA1P,iCACA,gBACA,4DAEAI,MAAAC,QAKAsP,iBACA,kGACA3P,gCACA,gBACA,2DAEAI,MAAAC,QAKAuP,kBACA,wFACA5P,iCACA,gBACA,2DAEAI,MAAAC,QAKAwP,yBACA,2FACA7P,wCACA,gBACA,8DAEAI,MAAAC,QAKAyP,eACA,sFACA9P,8BACA,gBACA,+DAEAI,MAAAC,QAKA0P,qBAEA,oBACA,+IACA/P,oCACA,eACAG,mBACA,gBACA,SACAP,UACAvC,SAEA,8BAIA+C,MAAAC,QAKA,oBAEA,iEACAL,6BACA,sBAEAgQ,cACA,SACA,+BACA3M,QACA,kCACAA,WACA,uCACAA,aAEArD,kBACA,2EACA,CACAQ,QAAAT,UAEAG,KAAAC,IACAH,uBACA,gBACA,kCAEAI,MAAAC,QAOA4P,iBAEA,4EACAzP,QACA0M,iBAEAhN,KAAAC,IACAH,+BACA,gBACA,4DACAA,0DAEAI,MAAAC,QAKA6P,+BAEA,0FACA1P,QACAwC,oBAEA9C,KAAAC,IACAH,6CACA,gBACA,oEAEAI,MAAAC,QAMA8P,iBAEA,8EACA3P,QACA4P,WAEAlQ,KAAAC,IACAH,+BACA,gBACA,mEAEAI,MAAAC,QAKAsB,QACA,kBACA,mBAEA,oBACA,4BACA,qBACA,kBACA,iBAEA,qBACA,0BACA,0BACA,qBACA,oBACA,yBACA,mBACA,wBACA,wBACA,mBACA,wBACA,wBACA,oBACA,uBACA,4BACA,4BACA,2BACA,kCACA,kBACA,iBACA,oBACA,yBACA,yBACA,oBAEA,4BACA,4BACA,sBACA,mBACA,wBACA,6BACA,6BAEA,0BACA,0BAEA,8BACA,8BACA,oBACA,cACA,kBACA,cACA,kBACA,qCACA,uBACA,4BACA,4BACA,gCACA,2BACA,8BACA,6BAEA,2BACA,gCACA,gCACA,oCACA,4BACA,+BACA,iCAEA,0BACA,gCACA,+BACA,+BACA,mCACA,4BACA,+BAEA,cAEA,6BACA,6BACA,4BACA,4BACA,kCACA,6BACA,6BACA,mCACA,uCACA,uCACA,6CACA,yBACA,+BACA,gCACA,iCAEA,cACA,aAEA,oEACA,kEAEA,uBACA,sBACA,uBACA,8BACA,oBACA,gCACA,mBAGA,IACA3B,uBACA,iBACA,iBACA,mCAEA,uCACA,sCACA,kCACA,0CACA,mCACA,mCACA,mCACA,oCACA,uCACA,mCACA,0CACA,8CACA,uBACA,oDACA,gCACA,6BACA,qCACA,gCACA,oBACA,qDAEA,4CACA,6BACA,oBACA,uCAEA,6CACA,4CACAqD,mBACA,0BACA,sBACA3G,kCACAF,gDACAJ,YAGA,oCACA,oBACA,4BACA,oBACA,4BAEA,kDACA,mDACA,mDACA,2EACA,iDACA,iFACA,mDACA,gFACA,mDAEA,6BACA,yBACA,mBACA,sCACA,UACA,6BACA,uCACA,qBAEA,aACA,8BACA,2CACA,2BAEA,cACA,wCACA,sDACA,+BAIAiU,mBAEA,aACA,SAmBA,OAlBAC,yBACAC,wBACA,aACA,0DACA,mDACA,8BAAA3Q,qBAAAvC,yBAEA,cACA,2DACA,uDACA,+BAAAuC,qBAAAvC,yBAEA,cACA,2DACA,sDACA,+BAAAuC,qBAAAvC,2BAGA,wBAGAuE,aChkDyW,ICQrW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QC4CA,GACflD,0BACAQ,YACAC,cACAqR,sBACAC,oBAEArR,OACA,OACAyD,kBACAjF,QACAmF,WACAf,YAAAG,2DAAA,CAAAA,kBAAA,CAAAA,2DAAA,CAAAA,mBACA3C,eACAsC,oBACAS,sBACAmO,iBACAC,mBACA/N,gBAGA/C,SACAyC,yBACA,mBAAA5D,2BAAAkS,OAAA1U,WAEAyG,UACA,gBACA,oBACA,sCAGAZ,aACA,cAEAG,mBACA,gBACA,oBACA,uCAGAE,YAGA7G,eAEA,MAKA,OAJA,aACA,gBACA,2BACA,oBAIA,mCAEA,iBADA,EACA,OAEA,QAEA,uBACA,oBACA,cAEAsV,eAEA,6EAAAjQ,mBAAA,SAEAZ,8BACA,mBACA,oCACAA,gDAEAI,MAAAC,QAIAoB,kBACA,oBACA,4FAEAzB,6BACA,mBACA,sCACAA,oDAEAI,MAAAC,QAIAyQ,eACA,WAEA9Q,kBACA,uBACAgE,uBACAC,yBAEA,wBACA,OAGArC,UAEA,sBACA,oBACA,+CACAmP,4FAGAC,gBAEA,+CACAD,gGC/K2W,ICQvW,G,UAAY,eACd,EACAlW,EACAoE,GACA,EACA,KACA,WACA,OAIa,e,mDCnBftE,EAAOC,QAAU","file":"js/chunk-61672c49.bb1a1e8c.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/img.f335936e.svg\";","module.exports = __webpack_public_path__ + \"img/extraUrgent.77af812b.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageIndex.vue?vue&type=style&index=0&id=4028672c&prod&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/add.c237168b.svg\";","module.exports = __webpack_public_path__ + \"img/deleteSvg.b19a4cd1.svg\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"mobile-title\"},[_c('navBar',{attrs:{\"titleText\":_vm.titleText,\"svgIcon\":_vm.close},on:{\"changeClose\":_vm.changeClose}})],1),(_vm.titleText == '问题处理')?_c('div',[_c('div',{staticClass:\"mobile-body\"},[_c('van-cell',{attrs:{\"center\":\"\",\"title\":\"承包商处理人\",\"label\":this.userName ? this.userName : '无'}}),_c('div',{staticClass:\"item\"},[_vm._m(0),_c('div',{staticClass:\"time-frame\"},[_c('img',{attrs:{\"src\":_vm.date}}),_c('span',[_vm._v(_vm._s(new Date().toLocaleDateString().replace(/\\//g, '-')))])])]),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"问题图片\")]),_vm._l((_vm.problemImg),function(item){return _c('div',{key:item.id,staticClass:\"img-frame\",staticStyle:{\"margin\":\"0.5rem 0rem\"},on:{\"click\":function($event){return _vm.showImg(item.imgPath)}}},[_c('img',{attrs:{\"src\":_vm.img}}),_c('span',[_vm._v(_vm._s(item.imgName))])])}),_c('van-uploader',{ref:\"vanUploader\",staticStyle:{\"display\":\"none\"},attrs:{\"show-upload\":true,\"after-read\":_vm.afterRead}}),_c('img',{attrs:{\"src\":_vm.add_img},on:{\"click\":function($event){return _vm.$refs.vanUploader.chooseFile()}}})],2),_c('div',{staticClass:\"item\",staticStyle:{\"margin-top\":\"2.625rem\"}},[_c('p',[_vm._v(\"转发 \")]),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.forwardTitle,\"options\":_vm.forward},on:{\"change\":_vm.handelChange},model:{value:(_vm.forwardValue),callback:function ($$v) {_vm.forwardValue=$$v},expression:\"forwardValue\"}})],1)],1)],1),_c('van-popup',{staticClass:\"time-popup\",style:({ width: '70%' }),attrs:{\"round\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('h3',[_vm._v(\"选择时间\")]),_c('p',{staticStyle:{\"text-align\":\"center\"}},[_c('span',{on:{\"click\":function($event){return _vm.changeTimeType('date')}}},[_vm._v(_vm._s(_vm.curDateText))]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.changeTimeType('time')}}},[_vm._v(_vm._s(_vm.curTimeText))])]),_c('van-datetime-picker',{attrs:{\"type\":_vm.timeType},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel,\"change\":_vm.timeChange},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1)],1):_c('div',[_c('div',{staticClass:\"mobile-body\"},[_c('van-cell',{attrs:{\"center\":\"\",\"title\":\"验证人\",\"label\":this.userName ? this.userName : '无'}}),_c('div',{staticClass:\"item\"},[_vm._m(1),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.completionTitle,\"options\":_vm.completion},on:{\"change\":_vm.completionChange},model:{value:(_vm.completionValue),callback:function ($$v) {_vm.completionValue=$$v},expression:\"completionValue\"}})],1)],1),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"问题验证时间\")]),_c('div',{staticClass:\"time-frame\"},[_c('img',{attrs:{\"src\":_vm.date}}),_c('span',[_vm._v(_vm._s(new Date().toLocaleDateString().replace(/\\//g, '-')))])])]),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"验证意见\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],attrs:{\"cols\":\"30\",\"rows\":\"5\",\"placeholder\":\"请输入\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.description=$event.target.value}}})])],1)]),_c('van-button',{staticClass:\"float-button\",attrs:{\"round\":\"\",\"type\":\"info\",\"block\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"问题整改完成时间 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"完成情况 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n<!-- 问题处理 问题验证公用组件 -->\r\n  <div class=\"container\">\r\n    <div class=\"mobile-title\">\r\n      <navBar :titleText=\"titleText\" :svgIcon='close' @changeClose=\"changeClose\"></navBar>\r\n    </div>\r\n    <div v-if=\"titleText == '问题处理'\">\r\n      <div class=\"mobile-body\">\r\n        <van-cell center title=\"承包商处理人\" :label=\"this.userName ? this.userName : '无'\" />\r\n        <div class=\"item\">\r\n          <p>问题整改完成时间 <span style=\"color: #f20909\">*</span></p>\r\n          <div class=\"time-frame\">\r\n            <img :src=\"date\">\r\n            <span>{{new Date().toLocaleDateString().replace(/\\//g, '-')}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"item\">\r\n          <p>问题图片</p>\r\n          <div class=\"img-frame\" style=\"margin: 0.5rem 0rem\" @click=\"showImg(item.imgPath)\" v-for=\"item in problemImg\" :key=\"item.id\">\r\n            <img :src=\"img\">\r\n            <span>{{item.imgName}}</span>\r\n          </div>\r\n          <van-uploader style=\"display: none\" ref=\"vanUploader\" :show-upload='true' :after-read=\"afterRead\" />\r\n          <img :src=\"add_img\" @click=\"$refs.vanUploader.chooseFile()\">\r\n        </div>\r\n        <div class=\"item\" style=\"margin-top: 2.625rem\">\r\n          <p>转发 </p>\r\n          <van-dropdown-menu get-container=\"body\" >\r\n            <van-dropdown-item v-model=\"forwardValue\" :title='forwardTitle' :options=\"forward\" @change=\"handelChange\"/>\r\n          </van-dropdown-menu>\r\n        </div>\r\n      </div>\r\n      <!-- 选择时间弹窗 start -->\r\n      <van-popup class=\"time-popup\" v-model=\"show\" round :style=\"{ width: '70%' }\">\r\n        <h3>选择时间</h3>\r\n        <p style=\"text-align: center\"><span @click=\"changeTimeType('date')\">{{curDateText}}</span> <span @click=\"changeTimeType('time')\">{{curTimeText}}</span></p>\r\n        <van-datetime-picker\r\n          v-model=\"currentDate\"\r\n          :type=\"timeType\"\r\n          @confirm='confirm'\r\n          @cancel='cancel'\r\n          @change='timeChange'\r\n        />\r\n          <!-- title=\"选择年月日\" -->\r\n          <!-- :min-date=\"minDate\"\r\n          :max-date=\"maxDate\" -->\r\n      </van-popup>\r\n      <!-- 选择时间弹窗 end -->\r\n    </div>\r\n    <div v-else>\r\n      <div class=\"mobile-body\">\r\n        <van-cell center title=\"验证人\" :label=\"this.userName ? this.userName : '无'\" />\r\n        <div class=\"item\">\r\n          <p>完成情况 <span style=\"color: #f20909\">*</span></p>\r\n          <van-dropdown-menu get-container=\"body\" >\r\n            <van-dropdown-item v-model=\"completionValue\" :title='completionTitle' :options=\"completion\" @change=\"completionChange\"/>\r\n          </van-dropdown-menu>\r\n        </div>\r\n        <div class=\"item\">\r\n          <p>问题验证时间</p>\r\n          <div class=\"time-frame\">\r\n            <img :src=\"date\">\r\n            <span>{{new Date().toLocaleDateString().replace(/\\//g, '-')}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"item\">\r\n          <p>验证意见</p>\r\n          <textarea v-model=\"description\" cols=\"30\" rows=\"5\" placeholder=\"请输入\"></textarea>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n      <van-button class=\"float-button\" round type=\"info\" block @click=\"submit\">提交</van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navBar from '@/components/navBar.vue';\r\nimport { ImagePreview } from 'vant';\r\nexport default {\r\n  name: 'ProblemMangeHandling',\r\n  components: {\r\n    navBar\r\n  },\r\n  data() {\r\n    return {\r\n      titleText: '',\r\n\r\n      show: false,\r\n      currentDate: null,\r\n      timeType: 'date',\r\n      showTime: '请选择时间',\r\n      curDateText: '',\r\n      curTimeText: '',\r\n      overTime: '',\r\n      problemImg: [],\r\n      pictureId: [],\r\n      forwardValue: '',\r\n      forwardTitle: '',\r\n      forward: [],  //  转发\r\n      userName: '',\r\n      problemList: [],\r\n      justProblem: [],  //  刚新增的问题\r\n      close: require('@/assets/close.svg'),\r\n      date: require('@/assets/problemManageSvg/date.svg'),\r\n      img: require('@/assets/problemManageSvg/img.svg'),  \r\n      add_img: require('@/assets/problemManageSvg/add_img.svg'),\r\n\r\n      /* 提交参数 ↓ */ \r\n      questionId: '',\r\n      justType: '',\r\n\r\n\r\n      /* 问题验证 ↓ */ \r\n      completion: [{text: '合格', value: 0}, {text: '不合格', value: 1}],\r\n      completionTitle: '',\r\n      completionValue: '',\r\n      description: ''\r\n    }\r\n  },\r\n  methods: {\r\n    afterRead(file) {\r\n      // 此时可以自行将文件上传至服务器\r\n      console.log('afterRead', file);\r\n      function dataURLtoFileFun(dataurl, filename) {  //  转二进制\r\n        // console.log('dataurl', dataurl, 'filename', filename)\r\n        // 将base64转换为文件，dataurl为base64字符串，filename为文件名（必须带后缀名，如.jpg,.png）\r\n        let arr = dataurl.split(\",\");\r\n        let mime = arr[0].match(/:(.*?);/)[1];\r\n        let bstr = atob(arr[1]);\r\n        let n = bstr.length;\r\n        let u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n          u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new File([u8arr], filename, { type: mime });\r\n      }\r\n      const fromData = new FormData();  //  需要传formData类型\r\n      fromData.append('uploadFile', dataURLtoFileFun(file.content, file.file.name))\r\n      console.log('fromData', fromData)\r\n      this.$postHttp(`${this.$baseUrl}/CMS/file/upload`, \r\n      fromData\r\n      ).then(res=> {\r\n        console.log('upload', res)\r\n        if (res.status == 200) {\r\n          this.pictureId.push(res.data.data.id);\r\n          this.problemImg.push({imgName: res.data.data.fileName + '.' + res.data.data.fileType,imgPath: res.data.data.filePath, id: res.data.data.id})\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n    changeClose() {\r\n      this.reset();\r\n      this.$emit('changeCloseHandling')\r\n    },\r\n    handleTime() {\r\n      this.show = true;\r\n      this.timeType = 'date';\r\n      this.getCurTime(new Date())\r\n    },\r\n    showImg(imgPath) {\r\n      ImagePreview([imgPath]);\r\n    },\r\n    handelChange(val) {\r\n      this.forward.forEach(obj => {\r\n        if (obj.value === val) {\r\n          this.forwardTitle = obj.text\r\n        }\r\n      })\r\n    },\r\n    completionChange(val) {  //  改变完成情况触发\r\n      this.completion.forEach(obj => {\r\n        if (obj.value === val) {\r\n          this.completionTitle = obj.text\r\n        }\r\n      })\r\n    },\r\n    confirm(val) {  //  确认\r\n      // debugger\r\n      this.show = false;\r\n      this.getCurTime(val, true);\r\n    },\r\n    cancel(val) {\r\n      // debugger\r\n      this.show = false;\r\n    },\r\n    timeChange(picker, value, colum) {\r\n      if (this.timeType == 'time') {\r\n        // debugger\r\n        let startTime = picker.getValues();\r\n        this.curTimeText = startTime[0] + \":\" + startTime[1] + this.curTimeText.slice(5);\r\n        this.overTime = this.overTime.slice(0, 11) + startTime[0] + \":\" + startTime[1];\r\n      }\r\n    },\r\n    changeTimeType(type) {\r\n      if (type == 'time') {\r\n        this.getCurTime(this.currentDate, true)\r\n      } else {\r\n\r\n      }\r\n      this.timeType = type;\r\n    },\r\n    submit() {\r\n      if (this.titleText == '问题处理') {\r\n        this.$getHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/personCommit`,\r\n        {\r\n          params: {\r\n            questionId: this.questionId,\r\n            type: this.justType,\r\n            personId: this.forwardValue,\r\n            fileId: this.pictureId ? this.pictureId.toString() : '',\r\n            name: this.forwardTitle,\r\n            overTime: new Date().toLocaleDateString().replace(/\\//g, '-')\r\n          }\r\n        }\r\n        ).then(res=> {\r\n          console.log('personCommit', res)\r\n          if (res.status == 200) {\r\n            this.$emit('changeCloseHandling', true)\r\n          }\r\n        })\r\n      } else {\r\n        if (this.completionTitle == '') {\r\n          alert('请选择完成情况');\r\n          return;\r\n        }\r\n        this.$getHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/questionValidate`, \r\n          {\r\n            params: {\r\n              questionId: this.questionId,\r\n              state: this.completionTitle == '合格' ? 'COMMIT' : 'SAVE',\r\n              comment: this.description\r\n            }\r\n          }\r\n        ).then(res=> {\r\n          console.log('questionValidate', res)\r\n          if (res.status == 200) {\r\n            this.$emit('changeCloseHandling')\r\n          }\r\n        })\r\n\r\n      }\r\n    },\r\n    getCurTime(curTime, flag) { //   逻辑有问题 暂时不浪费时间改（选完时间切换到日期不会保存）\r\n      debugger\r\n      let y, month, day;\r\n      if (this.timeType == 'time') {\r\n        this.curTimeText = curTime + this.curTimeText.slice(5)\r\n      } else {\r\n        y = curTime.toLocaleDateString().split('/')[0];\r\n        month = curTime.toLocaleDateString().split('/')[1] - 1;\r\n        day = curTime.toLocaleDateString().split('/')[2];\r\n        if (!flag) {\r\n          this.overTime = curTime.toLocaleString('zh-CN',{year:'numeric', month:'2-digit',day:'2-digit', hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}).replace(/\\//g, '-')  //  要求完成时间\r\n        }\r\n        this.curDateText = y + '年' + (month + 1) + '月' + day + '日';\r\n        this.curTimeText = this.overTime.split(' ')[1];\r\n      }\r\n\r\n      if (!flag) {\r\n        // this.showTime = this.curDateText + ' ' + this.curTimeText;\r\n      } else {  //  确定时间 保存\r\n        this.showTime = this.curDateText + ' ' + this.curTimeText;\r\n      }\r\n      this.currentDate = new Date(y, month, day);\r\n    },\r\n\r\n    async getUserName() { //  获取当前登录人判断\r\n     const res = await this.$getHttp(`${this.$baseUrl}/CMS/uams/getUserInfo`);\r\n      console.log('getUserInfonb1', res)\r\n      if (res.status == 200) {\r\n        this.userName = res.data.name;\r\n        console.log('this.userName', this.userName)\r\n      }\r\n    },\r\n    getCurProblem(curProblemId) {\r\n      let paramsName = '';\r\n      this.$postHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/getQuestion`, {id: curProblemId}).then(res=> { //  获取当前这条问题的信息\r\n        console.log('获取当前这条问题的信息', res, '当前用户', this.userName)\r\n        if (res.data.code == 200) {\r\n          if (res.data.data.question[0].conperson == this.userName) {\r\n            paramsName = res.data.data.question[0].contractor\r\n            this.justType = 'con'\r\n          } else if (res.data.data.question[0].supPerson == this.userName) {\r\n            paramsName = res.data.data.question[0].supervisory_unit\r\n            this.justType = 'sup'\r\n          } else {\r\n            paramsName = res.data.data.question[0].territorial_unit\r\n            this.justType = 'ter'\r\n          }\r\n          this.getPeople(paramsName)\r\n        }\r\n      })\r\n    },\r\n\r\n\r\n    getProblemList(arr) {  //  新增之后的 问题列表 (因业务逻辑更改不用这个方法，但我不删 以防后患)\r\n      this.problemList = [];\r\n      this.justProblem = [];\r\n      let paramsName = '';\r\n      this.$postHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/getQuestion`, {}).then(res=> {\r\n        debugger\r\n        console.log('getQuestion', res)\r\n        if (res.data.code == 200) {\r\n          this.problemList = res.data.data.question;\r\n          console.log('this.problemList' ,this.problemList)\r\n          console.log('problemList' , arr)\r\n          this.justProblem = this.problemList.filter(item=> !arr.some(ele=> ele.id === item.id));\r\n          console.log('justProblem', this.justProblem)\r\n          this.$postHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/getQuestion`, {id: this.justProblem[0].id}).then(res=> { //  获取当前这条问题的信息\r\n            console.log('获取当前这条问题的信息', res)\r\n            if (res.data.code == 200) {\r\n              if (res.data.data.question[0].conperson == this.userName) {\r\n                paramsName = res.data.data.question[0].contractor\r\n                this.justType = 'con'\r\n              } else if (res.data.data.question[0].supPerson == this.userName) {\r\n                paramsName = res.data.data.question[0].supervisory_unit\r\n                this.justType = 'sup'\r\n              } else {\r\n                paramsName = res.data.data.question[0].territorial_unit\r\n                this.justType = 'ter'\r\n              }\r\n              this.getPeople(paramsName)\r\n            }\r\n          })\r\n        }\r\n      }).catch(err=> {\r\n        // debugger\r\n      })\r\n    },\r\n    getPeople(paramsName) { //  请求转发人接口\r\n      this.forward = [];\r\n      this.$getHttp(`${this.$baseUrl}/OS-PM/organization/findUserByOrgName/${paramsName}`).then(res=> {\r\n        console.log('findUserByOrgName', res)\r\n        if(res.status == 200) {\r\n          res.data.forEach(item=> {\r\n            const obj = {\r\n              text: item.userName,\r\n              value: item.id\r\n            }\r\n            this.forward.push(obj)\r\n          })\r\n\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n    async init(curProblemId, state) { //  arr 为新增之前的问题数据\r\n    debugger\r\n      this.titleText = state == 1 ? '问题处理' : '问题验证'\r\n      this.questionId = curProblemId;\r\n      await this.getUserName();\r\n      this.getCurProblem(curProblemId);\r\n      // this.getProblemList(arr);\r\n\r\n    },\r\n    reset() { //  重置处理、验证表单\r\n      this.userName = '';\r\n      this.pictureId = [];\r\n      this.problemImg = [];\r\n      this.forward = [];\r\n      this.forwardTitle ='';\r\n      this.forwardValue ='';\r\n\r\n\r\n      this.completion = [];\r\n      this.completionTitle = '';\r\n      this.completionValue = '';\r\n      this.description = '';\r\n    }\r\n  },\r\n  mounted() {\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  .container {\r\n    .mobile-body {\r\n      height: calc(100vh - 8.375rem);\r\n      .van-cell {\r\n        padding-left: 0rem;\r\n      }\r\n      .item {\r\n        width: 100%;\r\n        p {\r\n            margin-top: 1rem;\r\n            margin-bottom: 0.25rem;\r\n          }\r\n        .time-frame, .img-frame {\r\n          width: 100%;\r\n          height: 3.125rem;\r\n          border: 1px solid #808187 !important;\r\n          border-radius: 0.5rem !important;\r\n          display: flex;\r\n          align-items: center;\r\n          img {\r\n            flex: 1;\r\n            width: 1.5rem;\r\n            height: 1.5rem;\r\n            vertical-align: middle;\r\n          }\r\n          span {\r\n            flex: 5;\r\n          }\r\n        }\r\n        /deep/ .van-dropdown-menu__bar {  //  下拉样式\r\n          border: 1px solid #808187 !important;\r\n          border-radius: 0.5rem !important;\r\n        }\r\n        textarea {\r\n          width: 100%; \r\n          resize:none;\r\n          margin-top: -0.1rem;  \r\n          border-radius: 0.5rem;\r\n          border-color: #B4B4B4;\r\n          box-sizing: border-box;\r\n          padding: 1rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .float-button {\r\n    width: 90%;\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    bottom: 1rem;\r\n  }\r\n  .time-popup {\r\n    padding: 1rem;\r\n    padding-bottom: 0rem;\r\n    h3 {\r\n      font-size: 1.375rem;\r\n      font-weight: 500;\r\n      color: #1E1E1E;\r\n    }\r\n    p {\r\n      font-size: 1rem;\r\n      margin: 1rem 0rem;\r\n    }\r\n    /deep/ .van-picker {\r\n      position: relative;\r\n      .van-picker__toolbar {\r\n        position: absolute;\r\n        right: 0rem;\r\n        bottom: 0.2rem;\r\n        z-index: 2;\r\n        font-size: 0.875rem;\r\n      }\r\n      .van-picker__columns {\r\n        box-sizing: border-box;\r\n        padding-bottom: 2.8rem;\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemHandling.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemHandling.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./problemHandling.vue?vue&type=template&id=bfae71c4&scoped=true&\"\nimport script from \"./problemHandling.vue?vue&type=script&lang=js&\"\nexport * from \"./problemHandling.vue?vue&type=script&lang=js&\"\nimport style0 from \"./problemHandling.vue?vue&type=style&index=0&id=bfae71c4&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bfae71c4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageAdd.vue?vue&type=style&index=0&id=629837a0&prod&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageScreen.vue?vue&type=style&index=0&id=c3a3ff78&prod&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/screen.bf936d8a.svg\";","module.exports = __webpack_public_path__ + \"img/commonly.61c007c3.svg\";","module.exports = __webpack_public_path__ + \"img/urgent.58447e3b.svg\";","module.exports = __webpack_public_path__ + \"img/add_img.ca323127.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemHandling.vue?vue&type=style&index=0&id=bfae71c4&prod&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/screen_select.c2afc525.svg\";","module.exports = __webpack_public_path__ + \"img/date.6d33281b.svg\";","module.exports = __webpack_public_path__ + \"img/close.e7685cae.svg\";","module.exports = __webpack_public_path__ + \"img/right.dc99d06c.svg\";","module.exports = __webpack_public_path__ + \"img/save.58b1c209.svg\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"problem-mange-index\"},[_c('div',{staticClass:\"title\"},[_c('navBar',{attrs:{\"titleText\":'问题管理',\"svgIconRight\":_vm.screenSvg},on:{\"clickRight\":_vm.showScreen}})],1),_c('div',{staticClass:\"problem-mange-body\"},[(_vm.draftList.length != 0)?_c('div',_vm._l((_vm.draftList),function(item){return _c('div',{key:item.id,staticClass:\"draft-item\",on:{\"click\":function($event){return _vm.continueEditing(item)}}},[_c('p',[_vm._v(_vm._s(item.agreementName ? item.agreementName : '问题标题'))]),_c('span',{staticClass:\"draft\",on:{\"click\":_vm.clickCg}},[_vm._v(\"草稿\")])])}),0):_vm._e(),(_vm.problemList.length != 0)?_c('div',_vm._l((_vm.problemList),function(item){return _c('div',{key:item.id,staticClass:\"problem-mange-item\",on:{\"click\":function($event){return _vm.toProblemMangeDetails(item)}}},[_c('img',{attrs:{\"src\":_vm.extraUrgent}}),_c('h3',[_vm._v(_vm._s(item.agreementName))]),_c('p',[_c('span',{style:(item.Mstate == '已解决' ?'color: #02CD53' : item.Mstate == '待验证' ? 'color: #9133EF' : item.Mstate == '待处理' ? 'color: #00A3FF' : '')},[_vm._v(_vm._s(item.Mstate))]),_vm._v(\" \"+_vm._s(item.unit))]),_c('p',[_c('span',{staticStyle:{\"color\":\"#B4B4B4\"}},[_vm._v(\"解决期限：\")]),_vm._v(\" \"+_vm._s(item.overTime))])])}),0):_c('van-empty',{staticClass:\"custom-image\",attrs:{\"image\":require('@/assets/problemManageSvg/empty-img-simple.png'),\"description\":\"无问题项\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.show),expression:\"!show\"}],staticClass:\"float-button\"},[_c('van-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.showAdd}},[_c('img',{attrs:{\"src\":_vm.add}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.btnTextVisible),expression:\"!btnTextVisible\"}]},[_vm._v(\"新增问题\")])])],1),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\",\"duration\":\"0\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('problemManageScreen',{on:{\"changeClose\":_vm.changeClose}})],1),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\",\"duration\":\"0\"},model:{value:(_vm.addShow),callback:function ($$v) {_vm.addShow=$$v},expression:\"addShow\"}},[_c('problemManageAdd',{ref:\"problemManageAdd\",on:{\"changeClose\":_vm.changeClose}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"problem-mange-screen\"},[_c('div',{staticClass:\"title\"},[_c('navBar',{attrs:{\"titleText\":'问题筛选',\"svgIcon\":_vm.close},on:{\"changeClose\":_vm.changeClose}})],1),_c('div',{staticClass:\"problem-mange-body\"},[_c('van-form',[_c('p',[_vm._v(\"承包商名称\")]),_c('van-field',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.contractorName),callback:function ($$v) {_vm.contractorName=$$v},expression:\"contractorName\"}}),_c('p',[_vm._v(\"属地单位\")]),_c('van-field',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.unit),callback:function ($$v) {_vm.unit=$$v},expression:\"unit\"}}),_c('p',[_vm._v(\"问题专业\")]),_c('div',_vm._l((_vm.questionOptions),function(item){return _c('van-button',{key:item.sub,attrs:{\"plain\":\"\",\"type\":_vm.curQuestion == item.sub ? 'info' : 'default'},on:{\"click\":function($event){return _vm.clickQuestion(item)}}},[_vm._v(_vm._s(item.val))])}),1),_c('p',{staticStyle:{\"margin-top\":\"1rem\"}},[_vm._v(\"状态\")]),_c('div',_vm._l((_vm.stateOptions),function(item){return _c('van-button',{key:item.sub,attrs:{\"plain\":\"\",\"type\":_vm.curState == item.sub ? 'info' : 'default'},on:{\"click\":function($event){return _vm.clickState(item)}}},[_vm._v(_vm._s(item.val))])}),1)],1)],1),(_vm.btnVisible)?_c('div',{staticClass:\"float-button\"},[_c('span',{on:{\"click\":_vm.resetAll}},[_vm._v(\"清除全部\")]),_c('van-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.ok}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.btnTextVisible),expression:\"!btnTextVisible\"}]},[_vm._v(\"确定\")])])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- 问题管理筛选页 -->\r\n  <div class=\"problem-mange-screen\">\r\n    <div class=\"title\">\r\n      <navBar :titleText=\"'问题筛选'\" :svgIcon='close' @changeClose=\"changeClose\"></navBar>\r\n    </div>\r\n    <div class=\"problem-mange-body\">\r\n      <van-form>\r\n        <p>承包商名称</p>\r\n        <van-field\r\n          v-model=\"contractorName\"\r\n          placeholder=\"请输入\"\r\n          clearable\r\n        />\r\n          <!-- :rules=\"[{ required: true, message: '请填写用户名' }]\" -->\r\n        <p>属地单位</p>\r\n        <van-field\r\n          v-model=\"unit\"\r\n          placeholder=\"请输入\"\r\n          clearable\r\n        />\r\n          <!-- :rules=\"[{ required: true, message: '请填写密码' }]\" -->\r\n        <p>问题专业</p>\r\n        <!-- 因为key值给的都一样 渲染时会检测到相同key值，所以在外层嵌套 div -->\r\n        <div>\r\n          <van-button v-for=\"item in questionOptions\" :key=\"item.sub\" plain :type=\"curQuestion == item.sub ? 'info' : 'default'\" @click=\"clickQuestion(item)\">{{item.val}}</van-button>\r\n        </div>\r\n        <p style=\"margin-top: 1rem\">状态</p>\r\n        <div>\r\n          <van-button v-for=\"item in stateOptions\" :key=\"item.sub\" plain :type=\"curState == item.sub ? 'info' : 'default'\" @click=\"clickState(item)\">{{item.val}}</van-button>\r\n        </div>\r\n      </van-form>\r\n\r\n    </div>\r\n    <div v-if=\"btnVisible\" class=\"float-button\">\r\n      <span @click=\"resetAll\">清除全部</span>\r\n      <van-button type=\"info\" @click=\"ok\">\r\n        <span v-show=\"!btnTextVisible\">确定</span>\r\n      </van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navBar from '@/components/navBar.vue'\r\nexport default {\r\n  name: 'ProblemMangeScreen',\r\n  components: {\r\n    navBar\r\n  },\r\n  data() {\r\n    return {\r\n      contractorName: '',\r\n      unit: '',\r\n      btnVisible: true,\r\n      btnTextVisible: false,\r\n      questionOptions: [\r\n        {val: '全部', sub: 0},\r\n        {val: '动设备', sub: 1},\r\n        {val: '静设备', sub: 2},\r\n        {val: '电气设备', sub: 3},\r\n        {val: '检修', sub: 4},\r\n        {val: '仪表设备', sub: 5},\r\n      ],\r\n      curQuestion: 0,\r\n      stateOptions: [\r\n        {val: '全部', sub: 0},\r\n        {val: '待处理', sub: 1},\r\n        {val: '待验证', sub: 2},\r\n        {val: '已解决', sub: 3},\r\n      ],\r\n      curState: 0,\r\n      deleteSvg: require('@/assets/problemManageSvg/deleteSvg.svg'),\r\n      close: require('@/assets/close.svg'),\r\n\r\n    }\r\n  },\r\n  watch: {\r\n    '$store.state.btnShow'(newVal) {\r\n      console.log('watch', newVal)\r\n      this.btnVisible = newVal;\r\n    }\r\n  },\r\n  methods: {\r\n    changeClose() {\r\n      this.$emit('changeClose')\r\n    },\r\n    clickQuestion(val) {\r\n      // debugger\r\n      this.questionOptions.forEach(item=> {\r\n        if (item.sub == val.sub) {\r\n          this.curQuestion = val.sub\r\n        }\r\n      })\r\n    },\r\n    clickState(val) {\r\n      // debugger\r\n      this.stateOptions.forEach(item=> {\r\n        if (item.sub == val.sub) {\r\n          this.curState = val.sub\r\n        }\r\n      })\r\n    },\r\n    resetAll() {\r\n      this.contractorName = '';\r\n      this.unit = '';\r\n      this.curQuestion = 0;\r\n      this.curState = 0\r\n    },\r\n    ok() {\r\n      this.$emit('changeClose', \r\n        {\r\n          contractorName: this.contractorName,\r\n          territorialUnit: this.unit,\r\n          questionMajor: this.questionOptions[this.curQuestion].val == '全部' ? '' : this.questionOptions[this.curQuestion].val,\r\n          state: this.stateOptions[this.curState].val == '全部' ?\r\n           '' : this.stateOptions[this.curState].val == '待处理' ?\r\n          'EDIT' : this.stateOptions[this.curState].val == '待验证' ?\r\n          'SAVE' : this.stateOptions[this.curState].val == '已解决' ?\r\n          'COMMIT' : ''\r\n          // 待处理 EDIT， 待验证 SAVE，  已解决 COMMIT\r\n        }\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    let timeoutHdr = null\r\n    window.addEventListener('scroll', () => {\r\n      // 开始滚动时执行的代码\r\n      this.btnTextVisible = true;\r\n      window.clearTimeout(timeoutHdr)\r\n      timeoutHdr = window.setTimeout(() => {\r\n        // 滚动停止时执行的代码\r\n        this.btnTextVisible = false;\r\n      }, 101)\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  * {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  .problem-mange-screen {\r\n    .problem-mange-body {\r\n      box-sizing: border-box;\r\n      padding: 1rem;\r\n      .van-cell {\r\n        box-sizing: border-box;\r\n        margin: 1rem 0rem !important;\r\n        ::v-deep .van-field__body {\r\n          border: 1px solid #B4B4B4;\r\n          border-radius: 0.25rem;\r\n          height: 3rem;\r\n          input {\r\n            text-indent: 1rem;\r\n          }\r\n        }\r\n      }\r\n      .van-button {\r\n        // padding: 0rem 1rem;\r\n        width: 6.5rem;\r\n        margin: 0.65rem 0.63rem 0rem 0rem;\r\n        border-radius: 0.5rem;\r\n      }\r\n    }\r\n    .float-button {\r\n      position: fixed;\r\n      // right: 1rem;\r\n      bottom: 1rem;\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      box-sizing: border-box;\r\n      padding: 0rem 1rem;\r\n      align-items: center;\r\n      color: #1F4BF4;\r\n      font-size: 0.875rem;\r\n      .van-button {\r\n        border-radius: 1rem;\r\n        font-size: 0.875rem;\r\n        background: #0247fe;\r\n        padding: 1rem 1.5rem;\r\n        img {\r\n          vertical-align: middle;\r\n          margin-right: 0.25rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageScreen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageScreen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./problemManageScreen.vue?vue&type=template&id=c3a3ff78&scoped=true&\"\nimport script from \"./problemManageScreen.vue?vue&type=script&lang=js&\"\nexport * from \"./problemManageScreen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./problemManageScreen.vue?vue&type=style&index=0&id=c3a3ff78&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3a3ff78\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"mobile-title\"},[_c('navBar',{attrs:{\"titleText\":'新建问题',\"svgIcon\":_vm.close},on:{\"changeClose\":_vm.changeClose}})],1),_c('div',{staticClass:\"mobile-body\"},[_vm._m(0),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.contractNameTitle,\"options\":_vm.contractName},on:{\"open\":function($event){return _vm.handelOpen('合同名称')},\"change\":_vm.handelChange},model:{value:(_vm.contractNameValue),callback:function ($$v) {_vm.contractNameValue=$$v},expression:\"contractNameValue\"}})],1),_c('p',[_vm._v(\"合同编号\")]),_c('div',[_vm._v(_vm._s(_vm.contractCode ? _vm.contractCode : '-'))]),_vm._m(1),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.serviceTypeTitle,\"options\":_vm.serviceType,\"disabled\":\"\"},on:{\"open\":function($event){return _vm.handelOpen('服务类型')},\"change\":_vm.handelChange},model:{value:(_vm.serviceTypeValue),callback:function ($$v) {_vm.serviceTypeValue=$$v},expression:\"serviceTypeValue\"}})],1),_vm._m(2),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.problemOneTitle,\"options\":_vm.problemOne},on:{\"open\":function($event){return _vm.handelOpen('问题类型一')},\"change\":_vm.handelChange},model:{value:(_vm.problemOneValue),callback:function ($$v) {_vm.problemOneValue=$$v},expression:\"problemOneValue\"}})],1),_vm._m(3),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.problemTwoTitle,\"options\":_vm.problemTwo},on:{\"open\":function($event){return _vm.handelOpen('问题类型二')},\"change\":_vm.handelChange},model:{value:(_vm.problemTwoValue),callback:function ($$v) {_vm.problemTwoValue=$$v},expression:\"problemTwoValue\"}})],1),_c('p',[_vm._v(\"详细说明 \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.problemTwoTitle == '其他'),expression:\"problemTwoTitle == '其他'\"}],staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.detailedDes),expression:\"detailedDes\",modifiers:{\"trim\":true}}],attrs:{\"cols\":\"30\",\"rows\":\"5\",\"placeholder\":\"请输入\",\"disabled\":_vm.problemTwoTitle != '其他'},domProps:{\"value\":(_vm.detailedDes)},on:{\"input\":function($event){if($event.target.composing)return;_vm.detailedDes=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._m(4),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.violationRulesTitle,\"options\":_vm.violationRules},on:{\"open\":function($event){return _vm.handelOpen('违反条例')},\"change\":_vm.handelChange},model:{value:(_vm.violationRulesValue),callback:function ($$v) {_vm.violationRulesValue=$$v},expression:\"violationRulesValue\"}})],1),_vm._m(5),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.violationDocuments,\"options\":_vm.processOption,\"disabled\":\"\"},on:{\"change\":_vm.handelChange},model:{value:(_vm.violationDocuments),callback:function ($$v) {_vm.violationDocuments=$$v},expression:\"violationDocuments\"}})],1),_c('p',[_vm._v(\"问题大小分类\")]),_c('div',[_vm._v(_vm._s(_vm.problemSizeClassification ? _vm.problemSizeClassification : '-'))]),_c('p',[_vm._v(\"赋予分值\")]),_c('div',[_vm._v(_vm._s(_vm.giveScore ? _vm.giveScore : '-'))]),_c('p',[_vm._v(\"检查单位\")]),_c('div',[_vm._v(_vm._s(JSON.stringify(_vm.userInfo) != '{}' ? _vm.userInfo.userGroups[0].name : '-'))]),_c('p',[_vm._v(\"检查人\")]),_c('div',[_vm._v(_vm._s(JSON.stringify(_vm.userInfo) != '{}' ? _vm.userInfo.name : '-'))]),_vm._m(6),_c('div',{staticClass:\"time-frame\",on:{\"click\":_vm.handleTime}},[_c('img',{attrs:{\"src\":_vm.date}}),_c('span',[_vm._v(_vm._s(_vm.curTimeText))])]),_c('p',[_vm._v(\"项目名称\")]),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.projectNameTitle,\"options\":_vm.projectName},on:{\"open\":function($event){return _vm.handelOpen('项目名称')},\"change\":_vm.handelChange},model:{value:(_vm.projectNameValue),callback:function ($$v) {_vm.projectNameValue=$$v},expression:\"projectNameValue\"}})],1),_c('p',[_vm._v(\"项目编码\")]),_c('div',[_vm._v(_vm._s(_vm.projectCode ? _vm.projectCode : '-'))]),_vm._m(7),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.supervisorUnitTitle,\"options\":_vm.supervisorUnit},on:{\"open\":function($event){return _vm.handelOpen('监理单位')},\"change\":_vm.handelChange},model:{value:(_vm.supervisorUnitValue),callback:function ($$v) {_vm.supervisorUnitValue=$$v},expression:\"supervisorUnitValue\"}})],1),_vm._m(8),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.contractor,\"options\":_vm.processOption,\"disabled\":\"\"},on:{\"change\":_vm.handelChange},model:{value:(_vm.contractor),callback:function ($$v) {_vm.contractor=$$v},expression:\"contractor\"}})],1),_vm._m(9),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.territorialUnitTitle,\"options\":_vm.territorialUnit},on:{\"open\":function($event){return _vm.handelOpen('属地单位')},\"change\":_vm.handelChange},model:{value:(_vm.territorialUnitValue),callback:function ($$v) {_vm.territorialUnitValue=$$v},expression:\"territorialUnitValue\"}})],1),_vm._m(10),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.problemSpecialtyTitle,\"options\":_vm.problemSpecialty},on:{\"open\":function($event){return _vm.handelOpen('问题专业')},\"change\":_vm.handelChange},model:{value:(_vm.problemSpecialtyValue),callback:function ($$v) {_vm.problemSpecialtyValue=$$v},expression:\"problemSpecialtyValue\"}})],1),_c('p',[_vm._v(\"问题图片\")]),_vm._l((_vm.problemImg),function(item){return _c('div',{key:item.id,staticClass:\"img-frame\",staticStyle:{\"margin\":\"0.5rem 0rem\"},on:{\"click\":function($event){return _vm.showImg(item.imgPath)}}},[_c('img',{attrs:{\"src\":_vm.img}}),_c('span',[_vm._v(_vm._s(item.imgName))])])}),_c('van-uploader',{ref:\"vanUploader\",staticStyle:{\"display\":\"none\"},attrs:{\"show-upload\":true,\"after-read\":_vm.afterRead}}),_c('img',{attrs:{\"src\":_vm.add_img},on:{\"click\":function($event){return _vm.$refs.vanUploader.chooseFile()}}}),_vm._m(11),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],attrs:{\"cols\":\"30\",\"rows\":\"5\",\"placeholder\":\"请输入\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.description=$event.target.value}}}),_vm._m(12),_c('van-field',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.aBoss),callback:function ($$v) {_vm.aBoss=$$v},expression:\"aBoss\"}}),_vm._m(13),_c('van-field',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.aGuardian),callback:function ($$v) {_vm.aGuardian=$$v},expression:\"aGuardian\"}}),_vm._m(14),_c('van-field',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.bBoss),callback:function ($$v) {_vm.bBoss=$$v},expression:\"bBoss\"}}),_vm._m(15),_c('van-field',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.bGuardian),callback:function ($$v) {_vm.bGuardian=$$v},expression:\"bGuardian\"}}),_vm._m(16),_vm._l((_vm.dutyOptions),function(item,i){return _c('van-button',{key:i,attrs:{\"plain\":\"\",\"type\":item.sub ? 'info' : 'default'},on:{\"click\":function($event){return _vm.clickDuty(item, i)}}},[_vm._v(_vm._s(item.val))])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dutyOptions[0].sub),expression:\"dutyOptions[0].sub\"}]},[_vm._m(17),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.contractorDutyTitle},on:{\"open\":function($event){return _vm.handelOpen('承包商责任')},\"change\":_vm.handelChange,\"close\":function($event){return _vm.handleClose('承包商责任')}},model:{value:(_vm.contractorDutyValue),callback:function ($$v) {_vm.contractorDutyValue=$$v},expression:\"contractorDutyValue\"}},[_c('div',{staticClass:\"check-box\"},[_c('van-checkbox-group',{model:{value:(_vm.contractorDutyResult),callback:function ($$v) {_vm.contractorDutyResult=$$v},expression:\"contractorDutyResult\"}},[_c('van-cell-group',_vm._l((_vm.contractorDuty),function(item,index){return _c('van-cell',{key:index,attrs:{\"clickable\":\"\",\"title\":`${item.text}`},on:{\"click\":function($event){return _vm.toggle(item.value, index, '承包商责任')}},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-checkbox',{ref:\"contractorDutyCheckboxes\",refInFor:true,attrs:{\"name\":item.value}})]},proxy:true}],null,true)})}),1)],1)],1)])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dutyOptions[1].sub),expression:\"dutyOptions[1].sub\"}]},[_vm._m(18),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.supervisorUnitDutyTitle},on:{\"open\":function($event){return _vm.handelOpen('监理单位责任')},\"change\":_vm.handelChange,\"close\":function($event){return _vm.handleClose('监理单位责任')}},model:{value:(_vm.supervisorUnitDutyValue),callback:function ($$v) {_vm.supervisorUnitDutyValue=$$v},expression:\"supervisorUnitDutyValue\"}},[_c('div',{staticClass:\"check-box\"},[_c('van-checkbox-group',{model:{value:(_vm.supervisorUnitDutyResult),callback:function ($$v) {_vm.supervisorUnitDutyResult=$$v},expression:\"supervisorUnitDutyResult\"}},[_c('van-cell-group',_vm._l((_vm.supervisorUnitDuty),function(item,index){return _c('van-cell',{key:index,attrs:{\"clickable\":\"\",\"title\":`${item.text}`},on:{\"click\":function($event){return _vm.toggle(item.value, index, '监理单位责任')}},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-checkbox',{ref:\"supervisorUnitDutyCheckboxes\",refInFor:true,attrs:{\"name\":item.text}})]},proxy:true}],null,true)})}),1)],1)],1)])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dutyOptions[2].sub),expression:\"dutyOptions[2].sub\"}]},[_vm._m(19),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.territoryUnitDutyTitle},on:{\"open\":function($event){return _vm.handelOpen('属地单位责任')},\"change\":_vm.handelChange,\"close\":function($event){return _vm.handleClose('属地单位责任')}},model:{value:(_vm.territoryUnitDutyValue),callback:function ($$v) {_vm.territoryUnitDutyValue=$$v},expression:\"territoryUnitDutyValue\"}},[_c('div',{staticClass:\"check-box\"},[_c('van-checkbox-group',{model:{value:(_vm.territoryUnitDutyResult),callback:function ($$v) {_vm.territoryUnitDutyResult=$$v},expression:\"territoryUnitDutyResult\"}},[_c('van-cell-group',_vm._l((_vm.territoryUnitDuty),function(item,index){return _c('van-cell',{key:index,attrs:{\"clickable\":\"\",\"title\":`${item.text}`},on:{\"click\":function($event){return _vm.toggle(item.value, index, '属地单位责任')}},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-checkbox',{ref:\"territoryUnitDutyCheckboxes\",refInFor:true,attrs:{\"name\":item.text}})]},proxy:true}],null,true)})}),1)],1)],1)])],1)],1),_c('p',[_vm._v(\"扣分\")]),_c('div',[_vm._v(_vm._s(_vm.deductPoints && _vm.deductPoints != 'NaN' ? _vm.deductPoints : '-'))]),_c('p',[_vm._v(\"要求完成时间\")]),_c('div',{staticClass:\"time-frame\",on:{\"click\":function($event){return _vm.handleTime('要求完成时间')}}},[_c('img',{attrs:{\"src\":_vm.date}}),_c('span',[_vm._v(_vm._s(_vm.requiredTime))])]),_c('p',[_vm._v(\"考核金额\")]),_c('van-field',{attrs:{\"placeholder\":\"请输入金额\",\"clearable\":\"\"},model:{value:(_vm.money),callback:function ($$v) {_vm.money=$$v},expression:\"money\"}}),_vm._m(20),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.completedOnSiteTitle,\"options\":_vm.completedOnSite},on:{\"open\":function($event){return _vm.handelOpen('是否现场完成')},\"change\":_vm.handelChange},model:{value:(_vm.completedOnSiteValue),callback:function ($$v) {_vm.completedOnSiteValue=$$v},expression:\"completedOnSiteValue\"}})],1),_vm._m(21),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.violatesTheSixTitle,\"options\":_vm.violatesTheSix},on:{\"open\":function($event){return _vm.handelOpen('是否违反六大禁令')},\"change\":_vm.handelChange},model:{value:(_vm.violatesTheSixValue),callback:function ($$v) {_vm.violatesTheSixValue=$$v},expression:\"violatesTheSixValue\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.violatesTheSixTitle == '是'),expression:\"violatesTheSixTitle == '是'\"}]},[_vm._m(22),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.selectViolatesTheSixTitle,\"options\":[]},on:{\"open\":function($event){return _vm.handelOpen('选择是否违反六大禁令')},\"change\":_vm.handelChange},model:{value:(_vm.selectViolatesTheSixValue),callback:function ($$v) {_vm.selectViolatesTheSixValue=$$v},expression:\"selectViolatesTheSixValue\"}})],1)],1),_vm._m(23),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.employeesUnsafeTitle,\"options\":_vm.employeesUnsafe},on:{\"open\":function($event){return _vm.handelOpen('是否违反员工不安全行为')},\"change\":_vm.handelChange},model:{value:(_vm.employeesUnsafeValue),callback:function ($$v) {_vm.employeesUnsafeValue=$$v},expression:\"employeesUnsafeValue\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.employeesUnsafeTitle == '是'),expression:\"employeesUnsafeTitle == '是'\"}]},[_vm._m(24),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.selectEmployeesUnsafeTitle,\"options\":[]},on:{\"open\":function($event){return _vm.handelOpen('选择是否违反员工不安全行为')},\"change\":_vm.handelChange},model:{value:(_vm.selectEmployeesUnsafeValue),callback:function ($$v) {_vm.selectEmployeesUnsafeValue=$$v},expression:\"selectEmployeesUnsafeValue\"}})],1)],1),_vm._m(25),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\",\"direction\":\"up\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.contractorEmployeesUnsafeTitle,\"options\":_vm.contractorEmployeesUnsafe},on:{\"open\":function($event){return _vm.handelOpen('是否违反承包商人员不安全行为')},\"change\":_vm.handelChange},model:{value:(_vm.contractorEmployeesUnsafeValue),callback:function ($$v) {_vm.contractorEmployeesUnsafeValue=$$v},expression:\"contractorEmployeesUnsafeValue\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contractorEmployeesUnsafeTitle == '是'),expression:\"contractorEmployeesUnsafeTitle == '是'\"}]},[_vm._m(26),_c('van-dropdown-menu',{attrs:{\"get-container\":\"body\"}},[_c('van-dropdown-item',{attrs:{\"title\":_vm.selectContractorEmployeesUnsafeTitle,\"options\":[]},on:{\"open\":function($event){return _vm.handelOpen('选择是否违反承包商人员不安全行为')},\"change\":_vm.handelChange},model:{value:(_vm.selectContractorEmployeesUnsafeValue),callback:function ($$v) {_vm.selectContractorEmployeesUnsafeValue=$$v},expression:\"selectContractorEmployeesUnsafeValue\"}})],1)],1)],2),_c('van-popup',{staticClass:\"time-popup\",style:({ width: '70%' }),attrs:{\"round\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('h3',[_vm._v(\"选择时间\")]),(_vm.isRequiredTimePopup)?_c('p',{staticStyle:{\"text-align\":\"center\"},on:{\"click\":_vm.handleTimeType}},[_vm._v(_vm._s(_vm.requiredTime))]):_c('p',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.curTimeText))]),_c('van-datetime-picker',{attrs:{\"type\":_vm.timeType},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_c('van-popup',{staticClass:\"upload-popup\",style:({ height: '25.5%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.showUpload),callback:function ($$v) {_vm.showUpload=$$v},expression:\"showUpload\"}},_vm._l((_vm.btnList),function(item,i){return _c('van-cell',{key:i,attrs:{\"is-link\":\"\",\"center\":\"\",\"title\":item,\"label\":\"\"},on:{\"click\":function($event){return _vm.handelBtn(item)}}})}),1),_c('transition',{attrs:{\"name\":\"van-slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"tips-box\"},[_c('span',[_vm._v(\"至少选择一名责任方\")]),_c('span'),_c('span',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"确定\")])])]),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.banActionShow),callback:function ($$v) {_vm.banActionShow=$$v},expression:\"banActionShow\"}},[_c('navBar',{attrs:{\"titleText\":'',\"svgIcon\":_vm.close,\"svgIconRight\":_vm.right},on:{\"changeClose\":_vm.changeBanActionShow,\"clickRight\":_vm.clickRight}}),(this.curDropDown == '选择是否违反六大禁令')?_c('p',{staticClass:\"tips-text\"},[_vm._v(\"中石油六大禁令\")]):(this.curDropDown == '选择是否违反员工不安全行为')?_c('p',{staticClass:\"tips-text\"},[_vm._v(\"员工行为安全规范治理清单\")]):_c('p',{staticClass:\"tips-text\"},[_vm._v(\"承包商人员不规范安全行为清单\")]),_c('div',{staticClass:\"ban-action-box\"},[_c('van-radio-group',{model:{value:(_vm.banActionRadio),callback:function ($$v) {_vm.banActionRadio=$$v},expression:\"banActionRadio\"}},[_vm._l((_vm.banActionList),function(item){return [_c('van-radio',{key:item.id,attrs:{\"name\":item.id},on:{\"click\":function($event){return _vm.clickRadio(item)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.type == 'ban'),expression:\"item.type == 'ban'\"}],staticClass:\"item\"},[_c('p',[_vm._v(_vm._s(item.ban_content))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.type == 'person'),expression:\"item.type == 'person'\"}],staticClass:\"item\"},[_c('p',[_vm._v(_vm._s(item.person_behavior_no)+\" \"+_vm._s(item.person_behavior))]),_c('span',[_vm._v(_vm._s(item.person_department))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.type == 'cperson'),expression:\"item.type == 'cperson'\"}],staticClass:\"item\"},[_c('p',[_vm._v(_vm._s(item.cperson_category)+\" \"+_vm._s(item.cperson_behavior))]),_c('span',[_vm._v(_vm._s(item.cperson_major))])])])]})],2)],1)],1),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.handlingShow),callback:function ($$v) {_vm.handlingShow=$$v},expression:\"handlingShow\"}},[_c('problemHandling',{ref:\"problemHandling\",on:{\"changeCloseHandling\":_vm.changeCloseHandling}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.visible),expression:\"!visible\"}],staticClass:\"float-button\"},[_c('van-button',{attrs:{\"round\":\"\",\"plain\":\"\",\"type\":\"info\"},on:{\"click\":_vm.clickSave}},[_vm._v(\"保存\")]),_c('van-button',{attrs:{\"round\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.submit('COMMIT')}}},[_vm._v(\"提交\")])],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"合同名称 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"服务类型 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"问题类型一 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"问题类型二 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"违反条例 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"违反文件 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"检查日期 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"监理单位 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"承包商 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"属地单位 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"问题专业 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"问题描述 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"甲方项目负责人 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"甲方监护人 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"乙方项目负责人 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"乙方监护人 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"责任方 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"承包商责任 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"监理单位责任 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"属地单位责任 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"是否现场完成 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"是否违反六大禁令 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('span',{staticStyle:{\"color\":\"#f20909\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"是否违反员工不安全行为 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('span',{staticStyle:{\"color\":\"#f20909\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"是否违反承包商人员不安全行为 \"),_c('span',{staticStyle:{\"color\":\"#f20909\"}},[_vm._v(\"*\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('span',{staticStyle:{\"color\":\"#f20909\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n<!-- 问题管理 新建页面 -->\r\n  <div class=\"container\">\r\n    <div class=\"mobile-title\">\r\n      <navBar :titleText=\"'新建问题'\" :svgIcon='close' @changeClose=\"changeClose\"></navBar>\r\n    </div>\r\n    <div class=\"mobile-body\">\r\n      <p>合同名称 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"contractNameValue\" :title='contractNameTitle' :options=\"contractName\" @open=\"handelOpen('合同名称')\" @change=\"handelChange\"/>\r\n      </van-dropdown-menu>\r\n      <p>合同编号</p>\r\n      <div>{{contractCode ? contractCode : '-'}}</div>\r\n      <p>服务类型 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"serviceTypeValue\" :title='serviceTypeTitle' :options=\"serviceType\" disabled @open=\"handelOpen('服务类型')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>问题类型一 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"problemOneValue\" :title='problemOneTitle' :options=\"problemOne\" @open=\"handelOpen('问题类型一')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>问题类型二 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"problemTwoValue\" :title='problemTwoTitle' :options=\"problemTwo\" @open=\"handelOpen('问题类型二')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>详细说明 <span style=\"color: #f20909\" v-show=\"problemTwoTitle == '其他'\">*</span></p>\r\n      <textarea v-model.trim=\"detailedDes\" cols=\"30\" rows=\"5\" placeholder=\"请输入\" :disabled=\"problemTwoTitle != '其他'\"></textarea>\r\n      <p>违反条例 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"violationRulesValue\" :title='violationRulesTitle' :options=\"violationRules\" @open=\"handelOpen('违反条例')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>违反文件 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"violationDocuments\" :title='violationDocuments' :options=\"processOption\" disabled @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>问题大小分类</p>\r\n      <div>{{problemSizeClassification ? problemSizeClassification : '-'}}</div>\r\n      <p>赋予分值</p>\r\n      <div>{{giveScore ? giveScore : '-'}}</div>\r\n      <p>检查单位</p>\r\n      <div>{{JSON.stringify(userInfo) != '{}' ? userInfo.userGroups[0].name : '-'}}</div>\r\n      <p>检查人</p>\r\n      <div>{{JSON.stringify(userInfo) != '{}' ? userInfo.name : '-'}}</div>\r\n      <p>检查日期 <span style=\"color: #f20909\">*</span></p>\r\n      <div class=\"time-frame\" @click=\"handleTime\">\r\n        <img :src=\"date\">\r\n        <span>{{curTimeText}}</span>\r\n      </div>\r\n      <p>项目名称</p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"projectNameValue\" :title='projectNameTitle' :options=\"projectName\" @open=\"handelOpen('项目名称')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>项目编码</p>\r\n      <div>{{projectCode ? projectCode : '-'}}</div>\r\n      <p>监理单位 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"supervisorUnitValue\" :title='supervisorUnitTitle' :options=\"supervisorUnit\" @open=\"handelOpen('监理单位')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>承包商 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\">\r\n        <van-dropdown-item v-model=\"contractor\" :title='contractor' :options=\"processOption\" disabled @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>属地单位 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"territorialUnitValue\" :title='territorialUnitTitle' :options=\"territorialUnit\" @open=\"handelOpen('属地单位')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <!-- 新版已删除 -->\r\n      <!-- <p>问题归类 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"problemClassValue\" :title='problemClassTitle' :options=\"problemClass\" @open=\"handelOpen('问题归类')\" @change='handelChange'/>\r\n      </van-dropdown-menu> -->\r\n      <p>问题专业 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" >\r\n        <van-dropdown-item v-model=\"problemSpecialtyValue\" :title='problemSpecialtyTitle' :options=\"problemSpecialty\" @open=\"handelOpen('问题专业')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>问题图片</p>\r\n      <div class=\"img-frame\" style=\"margin: 0.5rem 0rem\" @click=\"showImg(item.imgPath)\" v-for=\"item in problemImg\" :key=\"item.id\">\r\n        <img :src=\"img\">\r\n        <span>{{item.imgName}}</span>\r\n      </div>\r\n      <van-uploader style=\"display: none\" ref=\"vanUploader\" :show-upload='true' :after-read=\"afterRead\" />\r\n      <!-- <van-uploader> -->\r\n        <!-- <img :src=\"add_img\" @click=\"showUpload = true\"> -->\r\n        <img :src=\"add_img\" @click=\"$refs.vanUploader.chooseFile()\">\r\n      <!-- </van-uploader> -->\r\n      <p>问题描述 <span style=\"color: #f20909\">*</span></p>\r\n      <textarea v-model=\"description\" cols=\"30\" rows=\"5\" placeholder=\"请输入\"></textarea>\r\n      <p>甲方项目负责人 <span style=\"color: #f20909\">*</span></p>\r\n      <van-field\r\n        v-model=\"aBoss\"\r\n        placeholder=\"请输入\"\r\n        clearable\r\n      />\r\n      <p>甲方监护人 <span style=\"color: #f20909\">*</span></p>\r\n      <van-field\r\n        v-model=\"aGuardian\"\r\n        placeholder=\"请输入\"\r\n        clearable\r\n      />\r\n      <p>乙方项目负责人 <span style=\"color: #f20909\">*</span></p>\r\n      <van-field\r\n        v-model=\"bBoss\"\r\n        placeholder=\"请输入\"\r\n        clearable\r\n      />\r\n      <p>乙方监护人 <span style=\"color: #f20909\">*</span></p>\r\n      <van-field\r\n        v-model=\"bGuardian\"\r\n        placeholder=\"请输入\"\r\n        clearable\r\n      />\r\n      <p>责任方 <span style=\"color: #f20909\">*</span></p>\r\n      <van-button v-for=\"(item, i) in dutyOptions\" :key=\"i\" plain :type=\"item.sub ? 'info' : 'default'\" @click=\"clickDuty(item, i)\">{{item.val}}</van-button>\r\n      <div v-show=\"dutyOptions[0].sub\">\r\n        <p>承包商责任 <span style=\"color: #f20909\">*</span></p>\r\n        <van-dropdown-menu get-container=\"body\" >\r\n          <van-dropdown-item v-model=\"contractorDutyValue\" :title='contractorDutyTitle' @open=\"handelOpen('承包商责任')\" @change='handelChange' @close=\"handleClose('承包商责任')\">\r\n            <div class=\"check-box\">\r\n              <van-checkbox-group v-model=\"contractorDutyResult\">\r\n                <van-cell-group>\r\n                  <van-cell\r\n                    v-for=\"(item, index) in contractorDuty\"\r\n                    clickable\r\n                    :key=\"index\"\r\n                    :title=\"`${item.text}`\"\r\n                    @click=\"toggle(item.value, index, '承包商责任')\"\r\n                  >\r\n                    <template #right-icon>\r\n                      <van-checkbox :name=\"item.value\" ref=\"contractorDutyCheckboxes\" />\r\n                    </template>\r\n                  </van-cell>\r\n                </van-cell-group>\r\n              </van-checkbox-group>\r\n            </div>\r\n          </van-dropdown-item>\r\n        </van-dropdown-menu>\r\n      </div>\r\n      <div v-show=\"dutyOptions[1].sub\">\r\n        <p>监理单位责任 <span style=\"color: #f20909\">*</span></p>\r\n        <van-dropdown-menu get-container=\"body\" >\r\n          <van-dropdown-item v-model=\"supervisorUnitDutyValue\" :title='supervisorUnitDutyTitle' @open=\"handelOpen('监理单位责任')\" @change='handelChange' @close=\"handleClose('监理单位责任')\">\r\n            <div class=\"check-box\">\r\n              <van-checkbox-group v-model=\"supervisorUnitDutyResult\">\r\n                <van-cell-group>\r\n                  <van-cell\r\n                    v-for=\"(item, index) in supervisorUnitDuty\"\r\n                    clickable\r\n                    :key=\"index\"\r\n                    :title=\"`${item.text}`\"\r\n                    @click=\"toggle(item.value, index, '监理单位责任')\"\r\n                  >\r\n                    <template #right-icon>\r\n                      <van-checkbox :name=\"item.text\" ref=\"supervisorUnitDutyCheckboxes\" />\r\n                    </template>\r\n                  </van-cell>\r\n                </van-cell-group>\r\n              </van-checkbox-group>\r\n            </div>\r\n          </van-dropdown-item>\r\n        </van-dropdown-menu>\r\n      </div>\r\n      <div v-show=\"dutyOptions[2].sub\">\r\n        <p>属地单位责任 <span style=\"color: #f20909\">*</span></p>\r\n        <van-dropdown-menu get-container=\"body\" >\r\n          <van-dropdown-item v-model=\"territoryUnitDutyValue\" :title='territoryUnitDutyTitle' @open=\"handelOpen('属地单位责任')\" @change='handelChange' @close=\"handleClose('属地单位责任')\">\r\n            <div class=\"check-box\">\r\n              <van-checkbox-group v-model=\"territoryUnitDutyResult\">\r\n                <van-cell-group>\r\n                  <van-cell\r\n                    v-for=\"(item, index) in territoryUnitDuty\"\r\n                    clickable\r\n                    :key=\"index\"\r\n                    :title=\"`${item.text}`\"\r\n                    @click=\"toggle(item.value, index, '属地单位责任')\"\r\n                  >\r\n                    <template #right-icon>\r\n                      <van-checkbox :name=\"item.text\" ref=\"territoryUnitDutyCheckboxes\" />\r\n                    </template>\r\n                  </van-cell>\r\n                </van-cell-group>\r\n              </van-checkbox-group>\r\n            </div>\r\n          </van-dropdown-item>\r\n        </van-dropdown-menu>\r\n      </div>\r\n      <p>扣分</p>\r\n      <div>{{deductPoints && deductPoints != 'NaN' ? deductPoints : '-'}}</div>\r\n      <p>要求完成时间</p>\r\n      <div class=\"time-frame\" @click=\"handleTime('要求完成时间')\">\r\n        <img :src=\"date\">\r\n        <span>{{requiredTime}}</span>\r\n      </div>      \r\n      <p>考核金额</p>\r\n      <van-field\r\n        v-model=\"money\"\r\n        placeholder=\"请输入金额\"\r\n        clearable\r\n      />\r\n      <p>是否现场完成 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\">\r\n        <van-dropdown-item v-model=\"completedOnSiteValue\" :title='completedOnSiteTitle' :options=\"completedOnSite\" @open=\"handelOpen('是否现场完成')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <p>是否违反六大禁令 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\">\r\n        <van-dropdown-item v-model=\"violatesTheSixValue\" :title='violatesTheSixTitle' :options=\"violatesTheSix\" @open=\"handelOpen('是否违反六大禁令')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <div v-show=\"violatesTheSixTitle == '是'\">\r\n        <p><span style=\"color: #f20909\"></span></p>\r\n        <van-dropdown-menu get-container=\"body\">\r\n          <van-dropdown-item v-model=\"selectViolatesTheSixValue\" :title='selectViolatesTheSixTitle' :options=\"[]\" @open=\"handelOpen('选择是否违反六大禁令')\" @change='handelChange'/>\r\n        </van-dropdown-menu>\r\n      </div>\r\n      <p>是否违反员工不安全行为 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\">\r\n        <van-dropdown-item v-model=\"employeesUnsafeValue\" :title='employeesUnsafeTitle' :options=\"employeesUnsafe\" @open=\"handelOpen('是否违反员工不安全行为')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <div v-show=\"employeesUnsafeTitle == '是'\">\r\n        <p><span style=\"color: #f20909\"></span></p>\r\n        <van-dropdown-menu get-container=\"body\">\r\n          <van-dropdown-item v-model=\"selectEmployeesUnsafeValue\" :title='selectEmployeesUnsafeTitle' :options=\"[]\" @open=\"handelOpen('选择是否违反员工不安全行为')\" @change='handelChange'/>\r\n        </van-dropdown-menu>\r\n      </div>\r\n      <p>是否违反承包商人员不安全行为 <span style=\"color: #f20909\">*</span></p>\r\n      <van-dropdown-menu get-container=\"body\" direction=\"up\">\r\n        <van-dropdown-item v-model=\"contractorEmployeesUnsafeValue\" :title='contractorEmployeesUnsafeTitle' :options=\"contractorEmployeesUnsafe\" @open=\"handelOpen('是否违反承包商人员不安全行为')\" @change='handelChange'/>\r\n      </van-dropdown-menu>\r\n      <div v-show=\"contractorEmployeesUnsafeTitle == '是'\">\r\n        <p><span style=\"color: #f20909\"></span></p>\r\n        <van-dropdown-menu get-container=\"body\">\r\n          <van-dropdown-item v-model=\"selectContractorEmployeesUnsafeValue\" :title='selectContractorEmployeesUnsafeTitle' :options=\"[]\" @open=\"handelOpen('选择是否违反承包商人员不安全行为')\" @change='handelChange'/>\r\n        </van-dropdown-menu>\r\n      </div>\r\n    </div>\r\n    <!-- 选择时间弹窗 start -->\r\n    <van-popup class=\"time-popup\" v-model=\"show\" round :style=\"{ width: '70%' }\">\r\n      <h3>选择时间</h3>\r\n      <p v-if=\"isRequiredTimePopup\" style=\"text-align: center\"  @click=\"handleTimeType\">{{requiredTime}}</p>\r\n      <p v-else style=\"text-align: center\">{{curTimeText}}</p>\r\n      <van-datetime-picker\r\n        v-model=\"currentDate\"\r\n        :type=\"timeType\"\r\n        @confirm='confirm'\r\n        @cancel='cancel'\r\n      />\r\n        <!-- title=\"选择年月日\" -->\r\n        <!-- :min-date=\"minDate\"\r\n        :max-date=\"maxDate\" -->\r\n    </van-popup>\r\n    <!-- 选择时间弹窗 end -->\r\n    <!-- 弹出图片上传方式 start （不用了） -->\r\n    <van-popup class=\"upload-popup\" v-model=\"showUpload\" position=\"bottom\" :style=\"{ height: '25.5%' }\">\r\n      <van-cell is-link center :title=\"item\" v-for=\"(item, i) in btnList\" :key=\"i\" label=\"\" @click=\"handelBtn(item)\"/>\r\n    </van-popup>\r\n    <!-- 弹出图片上传方式 end -->\r\n    <!-- 责任方提示信息 start -->\r\n    <transition name=\"van-slide-up\">\r\n      <div v-show=\"visible\" class=\"tips-box\">\r\n        <span>至少选择一名责任方</span>\r\n        <span></span>\r\n        <span @click=\"visible = false\">确定</span>\r\n      </div>\r\n    </transition>\r\n    <!-- 责任方提示信息 start -->\r\n\r\n    <!-- 新增的六大禁令和不安全行为弹窗 start -->\r\n    <van-popup\r\n    v-model=\"banActionShow\"\r\n    position=\"bottom\"\r\n    :style=\"{ height: '100%' }\"\r\n    >\r\n      <navBar :titleText=\"''\" :svgIcon='close' :svgIconRight='right' @changeClose=\"changeBanActionShow\" @clickRight=\"clickRight\"></navBar>\r\n      <p class=\"tips-text\" v-if=\"this.curDropDown == '选择是否违反六大禁令'\">中石油六大禁令</p>\r\n      <p class=\"tips-text\" v-else-if=\"this.curDropDown == '选择是否违反员工不安全行为'\">员工行为安全规范治理清单</p>\r\n      <p class=\"tips-text\" v-else>承包商人员不规范安全行为清单</p>\r\n      <div class=\"ban-action-box\">\r\n        <van-radio-group v-model=\"banActionRadio\">\r\n          <template v-for=\"item in banActionList\">\r\n            <van-radio :name=\"item.id\" :key=\"item.id\" @click=\"clickRadio(item)\">\r\n              <div class=\"item\" v-show=\"item.type == 'ban'\">\r\n                <p>{{item.ban_content}}</p>\r\n              </div>\r\n              <div class=\"item\" v-show=\"item.type == 'person'\">\r\n                <p>{{item.person_behavior_no}} {{item.person_behavior}}</p>\r\n                <span>{{item.person_department}}</span>\r\n              </div>\r\n              <div class=\"item\" v-show=\"item.type == 'cperson'\">\r\n                <p>{{item.cperson_category}} {{item.cperson_behavior}}</p>\r\n                <span>{{item.cperson_major}}</span>\r\n              </div>\r\n            </van-radio>\r\n          </template>\r\n        </van-radio-group>\r\n      </div>\r\n    </van-popup>\r\n    <!-- 新增的六大禁令和不安全行为弹窗 end -->\r\n\r\n    <!-- 这里不能跳处理 待删除 -->\r\n    <!-- 弹出 问题处理 start -->\r\n    <van-popup\r\n    v-model=\"handlingShow\"\r\n    position=\"bottom\"\r\n    :style=\"{ height: '100%' }\"\r\n    >\r\n    <problemHandling ref=\"problemHandling\" @changeCloseHandling='changeCloseHandling'></problemHandling>\r\n    </van-popup>\r\n    <!-- 弹出 问题处理 end -->\r\n    <div v-show=\"!visible\" class=\"float-button\">\r\n      <van-button round plain type=\"info\" @click=\"clickSave\">保存</van-button>\r\n      <van-button round type=\"info\" @click=\"submit('COMMIT')\">提交</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navBar from '@/components/navBar.vue';\r\nimport problemHandling from './problemHandling.vue';\r\nimport { ImagePreview } from 'vant';\r\nimport { del } from 'vue';\r\nexport default {\r\n  name: 'ProblemMangeAdd',\r\n  components: {\r\n    navBar,\r\n    problemHandling\r\n  },\r\n  computed: {\r\n    deductPoints() {  //  计算扣分\r\n      // debugger\r\n      let dutyPartyNum = this.dutyOptions.filter(item=> item.sub).length;\r\n      return Number.isInteger(this.giveScore / dutyPartyNum) ? (this.giveScore / dutyPartyNum) : (this.giveScore / dutyPartyNum).toFixed(2)\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      showUpload: false,\r\n      visible: false,\r\n      banActionShow: false,\r\n      handlingShow: false,\r\n      userInfo: {},\r\n      processValue: '',\r\n      processTitle: '请选择',\r\n      processOption: [],\r\n      description: '',\r\n      aBoss: '',\r\n      aGuardian: '',\r\n      bBoss: '',\r\n      bGuardian: '',\r\n      money: '',  //  考核金额\r\n      contractorName: '',\r\n      dutyOptions: [\r\n        {val: '承包商', sub: 0},\r\n        {val: '监理单位', sub: 0},\r\n        {val: '属地单位', sub: 0}\r\n      ],\r\n      minDate: new Date(2020, 0, 1),\r\n      maxDate: new Date(2025, 10, 1),\r\n      currentDate: new Date(),\r\n      timeType: 'date',\r\n      curTimeText: '',\r\n      isRequiredTimePopup: false, //  判断是哪一个时间弹窗\r\n      requiredTime: '',\r\n      checkTime: '',  //  检查日期\r\n      overTime: '', //  要求完成时间\r\n      pictureId: [],  //  图片id\r\n      btnList: ['拍照', '从相册上传', '取消'],\r\n      curDropDown: '',  //  当前打开的下拉框\r\n      contractCode: '', //  合同编号\r\n      contractor: '', //  承包商\r\n      violationDocuments: '', //  违反文件\r\n      problemSizeClassification: '',  //  问题大小分类\r\n      giveScore: '1',  //  赋予分值\r\n      projectCode: '',  //  项目编码\r\n      // deductPoints: '', //  扣分\r\n      contractNameValue: '',\r\n      contractNameTitle: '',\r\n      contractName: [], //  合同名称\r\n      serviceTypeValue: '',\r\n      serviceTypeTitle: '',\r\n      serviceType: [],  //  服务类型\r\n      problemOneValue: '',\r\n      problemOneTitle: '',\r\n      problemOne: [], //  问题一\r\n      problemTwoValue: '',\r\n      problemTwoTitle: '',\r\n      problemTwo: [], //  问题二\r\n      detailedDes: '',  //  详细描述\r\n      violationRulesValue: '',\r\n      violationRulesTitle: '',\r\n      violationRules: [], //  违反条例\r\n      territorialUnitValue: '',\r\n      territorialUnitTitle: '',\r\n      territorialUnit: [],  //  属地单位\r\n      projectNameValue: '',\r\n      projectNameTitle: '',\r\n      projectName: [],  //  项目名称\r\n      supervisorUnitValue: '',\r\n      supervisorUnitTitle: '',\r\n      supervisorUnit: [\r\n        {text: '北京华油鑫业工程技术有限公司', value: 0},\r\n        {text: '新疆寰球', value: 1},\r\n        {text: '不涉及', value: 2}\r\n      ], // 监理单位\r\n      problemClassValue: '',\r\n      problemClassTitle: '',\r\n      problemClass: [\r\n        {text: '安全', value: 0},\r\n        {text: '质量', value: 1},\r\n        {text: '进度', value: 2},\r\n        {text: '环保', value: 3}\r\n      ], //  问题归类\r\n      problemSpecialtyValue: '',\r\n      problemSpecialtyTitle: '',\r\n      problemSpecialty: [\r\n        {text: '动设备', value: 0},\r\n        {text: '静设备', value: 1},\r\n        {text: '电气设备', value: 2},\r\n        {text: '检修', value: 3},\r\n        {text: '仪表设备', value: 4},\r\n      ], //  问题专业\r\n      problemImg: [{}], //  问题图片\r\n      contractorDutyValue: '',\r\n      contractorDutyTitle: '',\r\n      contractorDutyResult: [], //  无用 站位\r\n      contractorDutyCheckData: [],  //  承包商责任选中的人\r\n      contractorDirector: [], //  承包商责任 传参数据\r\n      contractorDirectorStr: '',  //  承包商责任处理后的数据\r\n      contractorDuty: [\r\n        ], //  承包商责任\r\n  // 测试数据 待删\r\n  //       {\r\n  //   text: \"余仕龙\",\r\n  //   value: 1423\r\n  // },\r\n  // {\r\n  //   text: \"阿斯哈尔·普拉提\",\r\n  //   value: 2101\r\n  // },\r\n      supervisorUnitDutyValue: '',\r\n      supervisorUnitDutyTitle: '',\r\n      supervisorUnitDutyResult: [],\r\n      supervisorUnitDutyCheckData: [],  //  监理单位责任选中的人\r\n      supervisoryDirector: [],  //  监理单位责任 传参数据\r\n      supervisoryDirectorStr: '', //  监理单位责任 处理后的数据\r\n      supervisorUnitDuty: [], //  监理单位责任\r\n      territoryUnitDutyValue: '',\r\n      territoryUnitDutyTitle: '',\r\n      territoryUnitDutyResult: [],\r\n      territoryUnitDutyCheckData: [], //  属地单位责任选中的人\r\n      territorialDirector: [],  //  属地单位责任 传参数据\r\n      territorialDirectorStr: '', //  属地单位责任 处理后的数据\r\n      territoryUnitDuty: [],  //  属地单位责任\r\n      completedOnSiteValue: '',\r\n      completedOnSiteTitle: '',\r\n      completedOnSite: [{text: '是', value: 0}, {text: '否', value: 1}], // 是否现场完成  否 SAVE\r\n      violatesTheSixValue: '',\r\n      violatesTheSixTitle: '',\r\n      violatesTheSix: [{text: '是', value: 0}, {text: '否', value: 1}],\r\n      selectViolatesTheSixValue: '',\r\n      selectViolatesTheSixTitle: '',\r\n      employeesUnsafeValue: '',\r\n      employeesUnsafeTitle: '',\r\n      employeesUnsafe: [{text: '是', value: 0}, {text: '否', value: 1}],\r\n      selectEmployeesUnsafeValue: '',\r\n      selectEmployeesUnsafeTitle: '',\r\n      contractorEmployeesUnsafeValue: '',\r\n      contractorEmployeesUnsafeTitle: '',\r\n      contractorEmployeesUnsafe: [{text: '是', value: 0}, {text: '否', value: 1}],\r\n      selectContractorEmployeesUnsafeValue: '',\r\n      selectContractorEmployeesUnsafeTitle: '',\r\n      banActionRadio: null,\r\n      \r\n        // {id: 0, type: 'person', person_behavior: '张三', person_department: '描述'}, {id: 1, type: 'person', person_behavior: '里斯', person_department: 'mioashu'},\r\n      banActionList: [],\r\n      banId: '',\r\n      personId: '',\r\n      cpersonId: '',\r\n      close: require('@/assets/close.svg'),\r\n      save: require('@/assets/save.svg'),\r\n      right: require('@/assets/right.svg'),\r\n      date: require('@/assets/problemManageSvg/date.svg'),\r\n      img: require('@/assets/problemManageSvg/img.svg'),\r\n      add_img: require('@/assets/problemManageSvg/add_img.svg'),\r\n      problemList: [],  // 新增之前的问题列表数据\r\n      contractorPerson: '',\r\n      supPerson: '',\r\n      terPerson: '',\r\n      contractorEchoPersonID: [],  //  承包商回显人员id\r\n      supervisoryEchoPersonID: [],  // 监理单位回显人员id\r\n      territorialEchoPersonID: [],  // 属地单位回显人员id\r\n      echoId: '', //  回显的id\r\n    }\r\n  },\r\n  methods: {\r\n    afterRead(file) {\r\n      // 此时可以自行将文件上传至服务器\r\n      console.log('afterRead', file);\r\n      function dataURLtoFileFun(dataurl, filename) {  //  转二进制\r\n        console.log('dataurl', dataurl, 'filename', filename)\r\n        // 将base64转换为文件，dataurl为base64字符串，filename为文件名（必须带后缀名，如.jpg,.png）\r\n        let arr = dataurl.split(\",\");\r\n        let mime = arr[0].match(/:(.*?);/)[1];\r\n        let bstr = atob(arr[1]);\r\n        let n = bstr.length;\r\n        let u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n          u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new File([u8arr], filename, { type: mime });\r\n      }\r\n      const fromData = new FormData();  //  需要传formData类型\r\n      fromData.append('uploadFile', dataURLtoFileFun(file.content, file.file.name))\r\n      console.log('fromData', fromData)\r\n      this.$postHttp(`${this.$baseUrl}/CMS/file/upload`, \r\n      fromData\r\n      ).then(res=> {\r\n        console.log('upload', res)\r\n        if (res.status == 200) {\r\n          this.pictureId.push(res.data.data.id);\r\n          this.problemImg.push({imgName: res.data.data.fileName + '.' + res.data.data.fileType,imgPath: res.data.data.filePath, id: res.data.data.id})\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n    beforeRead(file) {\r\n      console.log('beforeRead', file);\r\n    },\r\n    changeClose() {\r\n      // debugger\r\n      this.reset()\r\n      this.$emit('changeClose')\r\n    },\r\n    clickSave() {\r\n      this.submit('NOSUBMIT')\r\n    },\r\n    changeBanActionShow() {\r\n      this.banActionShow = false;\r\n    },\r\n    clickRight() {\r\n      this.banActionShow = false;\r\n    },\r\n    clickRadio(val) {\r\n      debugger\r\n      if (val.type == 'ban') {\r\n        this.banId = val.id\r\n        this.selectViolatesTheSixTitle = val.ban_content\r\n      } else if (val.type == 'person') {\r\n        this.personId = val.id\r\n        this.selectEmployeesUnsafeTitle = val.person_behavior\r\n      } else if (val.type == 'cperson') {\r\n        this.cpersonId = val.id\r\n        this.selectContractorEmployeesUnsafeTitle = val.cperson_behavior\r\n      }\r\n    },\r\n    changeCloseHandling(val) {\r\n      if (val) {\r\n        this.$emit('changeClose')\r\n      }\r\n      this.handlingShow = false;\r\n    },\r\n    submit(val) {  //  提交 or 保存\r\n      this.beforeSubJudge().then(res=> {\r\n        console.log('beforeSubJudge,res', res)\r\n        if (res) {\r\n          return;\r\n        } else {\r\n          console.log('提交了');\r\n          let parameter = {\r\n            agreementId: this.contractNameValue ? this.contractNameValue : '',  //  合同名称id\r\n            agreementName: this.contractNameValue ? this.contractNameValue : '',\r\n            agreementCode: this.contractCode ? this.contractCode : '', //  合同编号\r\n            questionId: this.problemTwoValue ? this.problemTwoValue : '',  //  问题类型二id **参数对比，pc numbuer,现在是string\r\n            pictureId: this.pictureId ? this.pictureId.toString() : '',          // 图片\r\n            agreementType: this.serviceTypeTitle ? this.serviceTypeTitle : '', //  服务类型\r\n            questionOne: this.problemOneTitle ? this.problemOneTitle : '',  //  问题类型一\r\n            questionTwo: this.problemTwoValue ? this.problemTwoValue : '',  //  问题类型二  **参数对比，pc numbuer,现在是string\r\n            categoryComment: this.detailedDes ? this.detailedDes : '',  //  详细说明\r\n            safeId: this.violationRulesValue ? this.violationRulesValue : '', //  违反条例\r\n            safeTwo: this.violationDocuments ? this.violationDocuments : '',  //  违反文件\r\n            safeThree: this.problemSizeClassification ? this.problemSizeClassification : '',  //  问题大小分类\r\n            safeFour: this.giveScore ? this.giveScore : '',  //  赋予分值 （不确定）\r\n            checkContractor: this.userInfo.userGroups[0].name ? this.userInfo.userGroups[0].name : '',  //  检查单位\r\n            checkUser: this.userInfo.name ? this.userInfo.name : '',  //  检查人\r\n            checkTime: this.checkTime ? this.checkTime : '',  //  检查日期\r\n            projectName: this.projectNameTitle ? this.projectNameTitle : '',  //  项目名称\r\n            projectCode: this.projectCode ? this.projectCode : '',  //  项目编码\r\n            supervisoryUnit: this.supervisorUnitTitle ? this.supervisorUnitTitle : '',  //  监理单位\r\n            contractor: this.contractor ? this.contractor : '', //  承包商\r\n            territorialUnit: this.territorialUnitTitle ? this.territorialUnitTitle : '',  //  属地单位\r\n            questionCategory: this.problemClassTitle ? this.problemClassTitle : '', //  问题归类\r\n            questionMajor: this.problemSpecialtyTitle ? this.problemSpecialtyTitle : '', //  问题专业\r\n            // 问题图片先不写\r\n            questionContent: this.description ? this.description : '', //  问题描述\r\n            aBoss: this.aBoss ? this.aBoss : '', //  甲方项目负责人\r\n            aGuardian: this.aGuardian ? this.aGuardian : '', //  甲方监护人\r\n            bBoss: this.bBoss ? this.bBoss : '', //  乙方项目负责人\r\n            bGuardian: this.bGuardian ? this.bGuardian : '', //  乙方监护人\r\n            contractorDirector: this.contractorDirectorStr ? this.contractorDirectorStr : '', //  承包商责任\r\n            supervisoryDirector: this.supervisoryDirectorStr ? this.supervisoryDirectorStr : '',  //  监理单位责任\r\n            territorialDirector: this.territorialDirectorStr ? this.territorialDirectorStr : '',  //  属地单位\r\n            koufen: this.deductPoints ? this.deductPoints : '', //  扣分      **参数对比，pc numbuer,现在是string\r\n            overTime: this.overTime ? this.overTime : '', //  要求完成时间\r\n            money: this.money ? this.money : '',  //  考核金额  **参数对比，pc numbuer,现在是string\r\n            // state: this.completedOnSiteTitle == '是' ? 'COMMIT' : this.completedOnSiteTitle == '否' ? 'EDIT' : '',  //  **参数对比，保存的时候，pc  NOSUBMIT, app COMMIT 应该是弃用了，待删\r\n            state: val,\r\n            isFinish: this.completedOnSiteTitle,  //  新增 是否到场 字段\r\n            checkContractorId: this.userInfo.userGroups[0].parentId, //  新增字段\r\n            banId: this.banId ? this.banId : 0,  //  新增 六大禁令 字段\r\n            personId: this.personId ? this.personId : 0,  //  新增 是否违反员工不安全行为 字段\r\n            cpersonId: this.cpersonId ? this.cpersonId : 0,  //  新增 是否违反承包商人员不安全行为 字段\r\n            contractorPerson: this.contractorPerson,\r\n            supPerson: this.supPerson,\r\n            terPerson: this.terPerson,\r\n            id: this.echoId,  //  是否到场为否，保存的时候，pc 不存在这个参数\r\n            saveState: '1', //  保存 的时候有这个字段，提交 的时候没这个字段\r\n          }\r\n          if (val == 'COMMIT') {\r\n            delete parameter.saveState\r\n          } else {\r\n            delete parameter.id\r\n          }\r\n          console.log('parameter', parameter)\r\n          this.$postHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/saveQuestion`,\r\n            parameter\r\n          ).then(res=> {\r\n            console.log('saveQuestion', res)\r\n            if (res.status == 200) {\r\n              // 不管 是、否 现场解决都关闭本页\r\n              this.reset()\r\n              this.$emit('changeClose');\r\n                return;\r\n\r\n\r\n              if (this.completedOnSiteTitle == '是') {\r\n                this.reset()\r\n                this.$emit('changeClose');\r\n              } else if (this.completedOnSiteTitle == '否') {\r\n                this.handlingShow = true;\r\n                this.$nextTick(()=> {\r\n                  this.$refs.problemHandling.init(this.problemList)\r\n                })\r\n              }\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    async beforeSubJudge() {  //  提交之前的判断\r\n      let subState = false;\r\n      if (this.contractorDutyTitle == '' && this.supervisorUnitDutyTitle == '' && this.territoryUnitDutyTitle == '') {\r\n        subState = true;\r\n        alert('责任方至少选一个人员');\r\n        return subState;\r\n      }\r\n      if (this.contractNameTitle == '') {\r\n        subState = true;\r\n        alert('请选择合同名称');\r\n        return subState;\r\n      }\r\n      if (this.serviceTypeTitle == '') {\r\n        subState = true;\r\n        alert('请选择服务类型');\r\n        return subState;\r\n      }\r\n      if (this.problemOneTitle == '') {\r\n        subState = true;\r\n        alert('请选择问题类型一');\r\n        return subState;\r\n      }\r\n      if (this.problemTwoTitle == '') {\r\n        subState = true;\r\n        alert('请选择问题类型二');\r\n        return subState;\r\n      }\r\n      if (this.problemTwoTitle == '其他') {\r\n        if (!this.detailedDes) {\r\n          subState = true;\r\n          alert('请输入详细说明');\r\n          return subState;\r\n        }\r\n      }\r\n      if (this.violationRulesTitle == '') {\r\n        subState = true;\r\n        alert('请选择违反条例');\r\n        return subState;\r\n      }\r\n      if (this.violationDocuments == '') {\r\n        subState = true;\r\n        alert('请选择违反文件');\r\n        return subState;\r\n      }\r\n      if (this.supervisorUnitTitle == '') {\r\n        subState = true;\r\n        alert('请选择监理单位');\r\n        return subState;\r\n      }\r\n      if (this.contractor == '') {\r\n        subState = true;\r\n        alert('请选择承包商');\r\n        return subState;\r\n      }\r\n      if (this.territorialUnitTitle == '') {\r\n        subState = true;\r\n        alert('请选择属地单位');\r\n        return subState;\r\n      }\r\n      // if (this.problemClassTitle == '') {\r\n      //   subState = true;\r\n      //   alert('请选择问题归类');\r\n      //   return subState;\r\n      // }\r\n      if (this.problemSpecialtyTitle == '') {\r\n        subState = true;\r\n        alert('请选择问题专业');\r\n        return subState;\r\n      }\r\n      if (this.description == '') {\r\n        subState = true;\r\n        alert('请选择问题描述');\r\n        return subState;\r\n      }\r\n      if (this.aBoss == '') {\r\n        subState = true;\r\n        alert('请选择甲方项目负责人');\r\n        return subState;\r\n      }\r\n      if (this.aGuardian == '') {\r\n        subState = true;\r\n        alert('请选择甲方监护人');\r\n        return subState;\r\n      }\r\n      if (this.bBoss == '') {\r\n        subState = true;\r\n        alert('请选择乙方项目负责人');\r\n        return subState;\r\n      }\r\n      if (this.bGuardian == '') {\r\n        subState = true;\r\n        alert('请选择乙方监护人');\r\n        return subState;\r\n      }\r\n      if (this.completedOnSiteTitle == '') {\r\n        subState = true;\r\n        alert('请选择是否现场完成');\r\n        return subState;\r\n      }\r\n\r\n      if (this.contractorDutyTitle != '') {\r\n        //承包商责任\r\n        const res = await this.$getHttp(\r\n          `${this.$baseUrl}/OS-PM/organization/findOrgNameByName/${this.contractor}`\r\n        );\r\n        console.log('承包商责任', res)\r\n        if (res && res.data.id && res.data.name) {\r\n          this.contractorPerson = `${res.data.id};${res.data.name}`;\r\n          console.log('contractorPerson', this.contractorPerson)\r\n        }\r\n      }\r\n      if (this.supervisorUnitDutyTitle != '') {\r\n        //监理单位责任\r\n        const res = await this.$getHttp(\r\n          `${this.$baseUrl}/OS-PM/organization/findOrgNameByName/${\r\n          this.supervisorUnitTitle\r\n          }`\r\n        );\r\n        console.log('监理单位责任', res)\r\n\r\n        if (res && res.data.id && res.data.name) {\r\n          this.supPerson = `${res.data.id};${res.data.name}`;\r\n          console.log('supPerson', this.supPerson)\r\n\r\n        }\r\n      }\r\n      if (this.territoryUnitDutyTitle != '') {\r\n        //属地单位责任\r\n        const res = await this.$getHttp(\r\n          `${this.$baseUrl}/OS-PM/organization/findOrgNameByName/${\r\n          this.territorialUnitTitle\r\n          }`\r\n        );\r\n        console.log('属地单位责任', res)\r\n\r\n        if (res && res.data.id && res.data.name) {\r\n          this.terPerson = `${res.data.id};${res.data.name}`;\r\n          console.log('terPerson', this.terPerson)\r\n          \r\n        }\r\n      }\r\n      console.log('subState', subState)\r\n      return await subState;\r\n    },\r\n    toggle(val, index, item) { //  复选框事件（复用）\r\n      debugger\r\n      console.log('toggle', val, index, item)\r\n      let curData = '';\r\n      let curTitle = '';\r\n      let checkData = '';\r\n      let chuanCanArr = '';\r\n      let handelStr = '';\r\n      let refStr = '';\r\n      switch (item) {\r\n        case '承包商责任':\r\n          checkData = 'contractorDutyCheckData';\r\n          chuanCanArr = 'contractorDirector';\r\n          handelStr = 'contractorDirectorStr';\r\n          curData = 'contractorDuty';\r\n          curTitle = 'contractorDutyTitle';\r\n          refStr = 'contractorDutyCheckboxes'\r\n        break;\r\n        case '监理单位责任':\r\n          checkData = 'supervisorUnitDutyCheckData';\r\n          chuanCanArr = 'supervisoryDirector';\r\n          handelStr = 'supervisoryDirectorStr';\r\n          curData = 'supervisorUnitDuty';\r\n          curTitle = 'supervisorUnitDutyTitle';\r\n          refStr = 'supervisorUnitDutyCheckboxes'\r\n        break;\r\n        case '属地单位责任':\r\n          checkData = 'territoryUnitDutyCheckData';\r\n          chuanCanArr = 'territorialDirector';\r\n          handelStr = 'territorialDirectorStr';\r\n          curData = 'territoryUnitDuty';\r\n          curTitle = 'territoryUnitDutyTitle';\r\n          refStr = 'territoryUnitDutyCheckboxes'\r\n        break;\r\n      \r\n        default:\r\n          break;\r\n      }\r\n      this.$refs[refStr][index].toggle(); //  选中状态\r\n      let removeIndex = null;\r\n      this[curData].forEach(item=> {\r\n        // debugger\r\n        if (item.value == val) {\r\n          if (this[checkData].indexOf(item.text) == -1) {  //  数组里面没有\r\n            this[checkData].push(item.text);\r\n            this[chuanCanArr].push({text: item.text, value: item.value});\r\n          } else {  //  取消选中\r\n            removeIndex = this[checkData].indexOf(item.text);\r\n            this[checkData].splice(removeIndex, 1);\r\n            this[chuanCanArr].splice(removeIndex, 1);\r\n          }\r\n          this[checkData] = Array.from(new Set(this[checkData]))\r\n        }\r\n      })\r\n      this[handelStr] = ''\r\n      this[chuanCanArr].forEach(item=> {\r\n        this[handelStr] += item.value + ';' + item.text + ','\r\n      })\r\n      // debugger\r\n      this[handelStr] = this[handelStr].slice(0, this[handelStr].length - 1);\r\n      this[curTitle] = this[checkData].toString()\r\n    },\r\n    handelOpen(val) {\r\n      debugger  \r\n      this.curDropDown = val;\r\n      if (val == '选择是否违反六大禁令' || val == '选择是否违反员工不安全行为' || val == '选择是否违反承包商人员不安全行为') {\r\n        this.banActionShow = true;\r\n        this.getToolData();\r\n      }\r\n       //  回显时打开人员下拉框 有有人的话回显选中状态 👇\r\n      if (val == \"承包商责任\") {\r\n        this.$nextTick(()=> {\r\n          debugger\r\n          this.contractorDuty.filter((item, index)=> {\r\n            debugger\r\n            let flag = this.contractorEchoPersonID.includes(item.value)\r\n            if (flag) {\r\n              this.$refs.contractorDutyCheckboxes[index].toggle()\r\n            }\r\n          })\r\n        })\r\n      }\r\n      if (val == \"监理单位责任\") {\r\n        this.$nextTick(()=> {\r\n          debugger\r\n          this.supervisorUnitDuty.filter((item, index)=> {\r\n            debugger\r\n            let flag = this.supervisoryEchoPersonID.includes(item.value)\r\n            if (flag) {\r\n              this.$refs.supervisorUnitDutyCheckboxes[index].toggle()\r\n            }\r\n          })\r\n        })\r\n      }\r\n      if (val == \"属地单位责任\") {\r\n        this.$nextTick(()=> {\r\n          debugger\r\n          this.territoryUnitDuty.filter((item, index)=> {\r\n            debugger\r\n            let flag = this.territorialEchoPersonID.includes(item.value)\r\n            if (flag) {\r\n              this.$refs.territoryUnitDutyCheckboxes[index].toggle()\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    handleClose(val) {\r\n      debugger\r\n      // 收起人员下拉菜单时取消选中的人，下次打开的时候才能选中\r\n      if (val == \"承包商责任\") {\r\n        this.$nextTick(()=> {\r\n          debugger\r\n          this.contractorDuty.filter((item, index)=> {\r\n            debugger\r\n            let flag = this.contractorEchoPersonID.includes(item.value)\r\n            if (flag) {\r\n              this.$refs.contractorDutyCheckboxes[index].toggle()\r\n            }\r\n          })\r\n        })\r\n      }\r\n      if (val == \"监理单位责任\") {\r\n        this.$nextTick(()=> {\r\n          debugger\r\n          this.supervisorUnitDuty.filter((item, index)=> {\r\n            debugger\r\n            let flag = this.supervisoryEchoPersonID.includes(item.value)\r\n            if (flag) {\r\n              this.$refs.supervisorUnitDutyCheckboxes[index].toggle()\r\n            }\r\n          })\r\n        })\r\n      }\r\n      if (val == \"属地单位责任\") {\r\n        this.$nextTick(()=> {\r\n          debugger\r\n          this.territoryUnitDuty.filter((item, index)=> {\r\n            debugger\r\n            let flag = this.territorialEchoPersonID.includes(item.value)\r\n            if (flag) {\r\n              this.$refs.territoryUnitDutyCheckboxes[index].toggle()\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    handelChange(val, a) {  //  下拉框改变值事件（通用）\r\n      debugger\r\n      let options = '';\r\n      let title = '';\r\n      switch (this.curDropDown) {\r\n        case '合同名称':\r\n          options = 'contractName';\r\n          title = 'contractNameTitle'\r\n        break;\r\n        case '服务类型':\r\n          options = 'serviceType';\r\n          title = 'serviceTypeTitle'\r\n        break;\r\n\r\n        case '问题类型一':\r\n          options = 'problemOne';\r\n          title = 'problemOneTitle'\r\n        break;\r\n        case '问题类型二':\r\n          options = 'problemTwo';\r\n          title = 'problemTwoTitle'\r\n        break;\r\n        case '违反条例':\r\n          options = 'violationRules';\r\n          title = 'violationRulesTitle'\r\n        break;\r\n        case '属地单位':\r\n          options = 'territorialUnit';\r\n          title = 'territorialUnitTitle'\r\n        break;\r\n        case '项目名称':\r\n          options = 'projectName';\r\n          title = 'projectNameTitle'\r\n        break;\r\n        case '监理单位':\r\n          options = 'supervisorUnit';\r\n          title = 'supervisorUnitTitle'\r\n        break;\r\n        case '问题归类':\r\n          options = 'problemClass';\r\n          title = 'problemClassTitle'\r\n        break;\r\n        case '问题专业':\r\n          options = 'problemSpecialty';\r\n          title = 'problemSpecialtyTitle'\r\n        break;\r\n        case '承包商责任':\r\n          options = 'contractorDuty';\r\n          title = 'contractorDutyTitle'\r\n        break;\r\n        case '监理单位责任':\r\n          options = 'supervisorUnitDuty';\r\n          title = 'supervisorUnitDutyTitle'\r\n        break;\r\n        case '属地单位责任':\r\n          options = 'territoryUnitDuty';\r\n          title = 'territoryUnitDutyTitle'\r\n        break;\r\n        case '是否现场完成':\r\n          options = 'completedOnSite';\r\n          title = 'completedOnSiteTitle'\r\n        break;\r\n        case '是否违反六大禁令':\r\n          options = 'violatesTheSix';\r\n          title = 'violatesTheSixTitle'\r\n        break;\r\n        case '是否违反员工不安全行为':\r\n          options = 'employeesUnsafe';\r\n          title = 'employeesUnsafeTitle'\r\n        break;\r\n        case '是否违反承包商人员不安全行为':\r\n          options = 'contractorEmployeesUnsafe';\r\n          title = 'contractorEmployeesUnsafeTitle'\r\n        break;\r\n\r\n        default:\r\n        break;\r\n      }\r\n      this[options].forEach(obj => {\r\n        if (obj.value === val) {\r\n          this[title] = obj.text\r\n\r\n          if (this.curDropDown == '合同名称') {\r\n            this.getAllPersons(val)\r\n            this.contractCode = obj.agreementCode\r\n            this.contractor = obj.contractorName\r\n            this.serviceTypeTitle = obj.agreementCategoryName\r\n          }\r\n          if (this.curDropDown == '问题类型一') {\r\n            this.problemTwoTitle = '';\r\n            this.problemTwoValue = ''\r\n          }\r\n          if (this.curDropDown == '问题类型二' && obj.oneCategory) {\r\n            this.problemOneTitle = obj.oneCategory\r\n            if (this.problemOneTitle != '其他') {\r\n              this.detailedDes = ''\r\n            }\r\n          }\r\n          if (obj.programFileName) {\r\n            this.violationDocuments = obj.programFileName\r\n          }\r\n          if (obj.score) {\r\n            this.giveScore = obj.score\r\n          }\r\n          if (this.curDropDown == '违反条例') {\r\n            this.problemSizeClassification = obj.questionSize\r\n          }\r\n          if (this.curDropDown == '项目名称') {\r\n            this.projectCode = val\r\n          }\r\n          if (this.curDropDown == '属地单位') {\r\n            this.getPersonList(obj.text);\r\n          }\r\n          if (this.curDropDown == '监理单位') {\r\n            this.getQuestionManagementPerson(obj.text)\r\n          }\r\n          if (val == 1) { //  选择 否 的时候\r\n            this.banActionRadio = null\r\n            if (this.curDropDown == '是否违反六大禁令') {\r\n              this.banId = '';\r\n              this.selectViolatesTheSixTitle = '';\r\n            }\r\n            if (this.curDropDown == '是否违反员工不安全行为') {\r\n              this.personId = '';\r\n              this.selectEmployeesUnsafeTitle = '';\r\n            }\r\n            if (this.curDropDown == '是否违反承包商人员不安全行为') {\r\n              this.cpersonId = '';\r\n              this.selectContractorEmployeesUnsafeTitle = '';\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    clickDuty(item, i) {  //  选中责任方\r\n      // debugger\r\n      let before = this.dutyOptions.filter(item=> item.sub != 0);\r\n      this.dutyOptions[i].sub = item.sub == 0 ? 1 : 0\r\n      let after = this.dutyOptions.filter(item=> item.sub != 0);\r\n      if (after.length < 1) {\r\n        this.dutyOptions.forEach(ele=> {\r\n          if (ele.val == before[0].val) {\r\n            ele.sub = 1\r\n          }\r\n        })\r\n        this.visible = true;\r\n        let timer = setTimeout(()=> {\r\n          this.visible = false;\r\n          clearTimeout(timer)\r\n        }, 3000)\r\n      }\r\n    },\r\n    mustDel() {\r\n\r\n    },\r\n    handleTime(params) {\r\n      // debugger\r\n      this.show = true;\r\n      this.timeType = 'date';\r\n      if (params == '要求完成时间') {\r\n        this.isRequiredTimePopup = true;\r\n      } else {\r\n        this.isRequiredTimePopup = false;\r\n      }\r\n\r\n      // this.getCurTime(new Date(), params)\r\n    },\r\n    handleTimeType() {\r\n      // debugger\r\n      this.timeType = this.timeType == 'date' ? 'time' : 'date'\r\n    },\r\n    confirm(val) {\r\n      debugger\r\n      this.show = false;\r\n      let y = '';\r\n      let month = '';\r\n      let day = '';\r\n      if (this.timeType != 'time') {\r\n        y = val.toLocaleDateString().split('/')[0];\r\n        month = val.toLocaleDateString().split('/')[1];\r\n        day = val.toLocaleDateString().split('/')[2];\r\n      }\r\n\r\n      if (this.timeType == 'date') {\r\n        if (this.isRequiredTimePopup) {\r\n        this.requiredTime = y + '年' + month + '月' + day + '日' + ' ' + new Date().toLocaleTimeString().slice(2);\r\n        console.log('cnm',val.toLocaleDateString().replace(/\\//g, '-'), 'sb', new Date().toLocaleTimeString().replace(/\\:/g, '-'))\r\n        this.overTime = val.toLocaleDateString().replace(/\\//g, '-') + ' ' + new Date().toLocaleTimeString().slice(2).replace(/\\:/g, '-')\r\n        console.log('this.overTime', this.overTime)\r\n        } else {\r\n          this.curTimeText = y + '年' + month + '月' + day + '日'\r\n          this.checkTime = val.toLocaleDateString().replace(/\\//g, '-')\r\n        }\r\n        // this.curTimeText = y + '年' + month + '月' + day + '日' + ' ' + new Date().toLocaleTimeString();\r\n      } else {\r\n        this.requiredTime = this.requiredTime.slice(0, this.requiredTime.split(' ')[0].length) + ' ' + val + ':00';\r\n        this.overTime = this.overTime.slice(0, this.overTime.split(' ')[0].length) + ' ' + (val + ':00').replace(/\\:/g, '-')\r\n      }\r\n\r\n      // this.requiredTime = y + '年' + month + '月' + day + '日'\r\n\r\n      // this.getCurTime(val)\r\n    },\r\n    cancel(val) {\r\n      // debugger\r\n      this.show = false;\r\n    },\r\n    showImg(imgPath) {\r\n      console.log('showImg', imgPath)\r\n      ImagePreview([imgPath]);\r\n    },\r\n    handelBtn(item) { //  展示选择添加图片方式\r\n      this.showUpload = false;\r\n    },\r\n    // getCurTime(curTime, params) {\r\n    //   // debugger\r\n    //   this.checkTime = curTime.toLocaleString('zh-CN',{year:'numeric', month:'2-digit',day:'2-digit'}).replace(/\\//g, '-') //  检查日期\r\n    //   this.overTime = curTime.toLocaleString('zh-CN',{year:'numeric', month:'2-digit',day:'2-digit', hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}).replace(/\\//g, '-')  //  要求完成时间\r\n    //   let y = curTime.toLocaleDateString().split('/')[0];\r\n    //   let month = curTime.toLocaleDateString().split('/')[1] - 1;\r\n    //   let day = curTime.toLocaleDateString().split('/')[2];\r\n    //   this.currentDate = new Date(y, month, day);\r\n    //   if (params == '要求完成时间') {\r\n    //     this.curTimeText = y + '年' + (month + 1) + '月' + day + '日' + '   ' + this.overTime.split(' ')[1];\r\n    //   } else {\r\n    //     this.curTimeText = y + '年' + (month + 1) + '月' + day + '日';\r\n    //   }\r\n    // },\r\n    handleResData(data, title) { //  处理返回数据\r\n      // debugger\r\n      let arr = [];\r\n      let text = null;\r\n      let value = null;\r\n      switch (title) {\r\n        case '合同名称':\r\n          text = 'agreementName';\r\n          value = 'id'\r\n        break;\r\n        case '问题类型一':\r\n          text = 'value';\r\n          value = 'key'\r\n        break;\r\n        case '问题类型二':\r\n          text = 'twoCategory';\r\n          value = 'id'\r\n        break;\r\n        case '违反条例':\r\n          text = 'confContent';\r\n          value = 'id'\r\n        break;\r\n        case '属地单位':\r\n          //  数组里面都是一个整体\r\n        break;\r\n        case '承包商责任':\r\n          text = 'name';\r\n          value = 'id'\r\n        break;\r\n        case '监理单位责任':\r\n          text = 'name';\r\n          value = 'id'\r\n        break;\r\n        case '属地单位责任':\r\n          text = 'name';\r\n          value = 'id'\r\n        break;\r\n       \r\n        default:\r\n        break;\r\n      }\r\n      data.forEach((e, i)=> {\r\n        const obj = {\r\n          text: e[text] ? e[text] : e,\r\n          value: e[value] ? e[value] : i,\r\n          // 合同名称联动\r\n          agreementCode: e.agreementCode ? e.agreementCode : '',  //  合同编号\r\n          agreementCategoryName: e.agreementCategoryName ? e.agreementCategoryName : '',  //  服务类型\r\n          contractorName : e.contractorName ? e.contractorName : '', //  承包商\r\n\r\n          oneCategory: e.oneCategory ? e.oneCategory : '', //  问题类型二联动的问题类型一\r\n\r\n          programFileName: e.programFileName ? e.programFileName : '',  //  违反文件\r\n          questionSize: e.questionSize ? e.questionSize : '', //  问题大小分类\r\n          score: e.score ? e.score : '' //  赋予分值\r\n        }\r\n        arr.push(obj)\r\n      })\r\n      return arr;\r\n    },\r\n    // 请求合同名称接口\r\n    getAllAgreement() {\r\n      this.$getHttp(`${this.$baseUrl}/CMS/agreement/getAllAgreement`).then(res=> {\r\n        console.log('getAllAgreement', res)\r\n        if (res.status == 200) {\r\n          this.contractName = this.handleResData(res.data.data, '合同名称')\r\n        }\r\n      }).catch(err=> {\r\n\r\n      }) \r\n    },\r\n    // 请求问题一接口\r\n    getValueByCode() {\r\n      this.$getHttp(`${this.$baseUrl}/CMS/selectConf/getValueByCode?code=QUESTION_ONE_CATEGORY`).then(res=> {\r\n        console.log('getValueByCode', res)\r\n        if (res.status == 200) {\r\n          this.problemOne = this.handleResData(res.data.data, '问题类型一')\r\n        }\r\n      }).catch(err=> {\r\n\r\n      }) \r\n    },\r\n    // 请求问题二接口\r\n    getQuestionConf() {\r\n      this.$getHttp(`${this.$baseUrl}/CMS/agreementquestioncheckconf/getQuestionConf`).then(res=> {\r\n        console.log('getQuestionConf', res)\r\n        if (res.status == 200) {\r\n          this.problemTwo = this.handleResData(res.data.data, '问题类型二')\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n    // 请求违反条款接口\r\n    getCommitSafeCheckConf() {\r\n      this.$getHttp(`${this.$baseUrl}/CMS/agreementsafecheckconf/getCommitSafeCheckConf`).then(res=> {\r\n        console.log('getCommitSafeCheckConf', res)\r\n        if (res.status == 200) {\r\n          this.violationRules = this.handleResData(res.data.data, '违反条例')\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n    // 请求属地单位接口\r\n    getGroupList() {\r\n      this.$getHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/getGroupList`).then(res=> {\r\n        console.log('getGroupList', res)\r\n        if (res.status == 200) {\r\n          this.territorialUnit = this.handleResData(res.data.data, '属地单位')\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n    // 请求项目名称接口\r\n    findAllProjectName() {\r\n      // debugger\r\n      this.projectName = [];\r\n      this.$getHttp(`${this.$baseUrl}/OS-PM/version/${window.localStorage.getItem('versionId')}/bigOverhaulProjectPlan/findAllProjectName`).then(res=> {\r\n        console.log('findAllProjectName', res)\r\n        if (res.status == 200) {\r\n          res.data.forEach(item=> {\r\n            for (let i in  item) {\r\n            const obj = {\r\n                text: item[i],\r\n                value: i\r\n              }\r\n              this.projectName.push(obj);\r\n            }\r\n          })\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n    // 获取登录人信息\r\n    async getUserInfo() {\r\n      // debugger\r\n      let res = await this.$getHttp(`${this.$baseUrl}/CMS/uams/getUserInfo`)\r\n      console.log('getUserInfo', res)\r\n      this.userInfo = res.data;\r\n    },\r\n    getToolData() {\r\n      let val = ''\r\n      if (this.curDropDown == '选择是否违反六大禁令') {\r\n        val = 'ban'\r\n      } else if (this.curDropDown == '选择是否违反员工不安全行为') {\r\n        val = 'person'\r\n      } else if (this.curDropDown == '选择是否违反承包商人员不安全行为') {\r\n        val = 'cperson'\r\n      }\r\n      console.log('sb')\r\n      this.$getHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/getToolData`, \r\n        {\r\n          params: {type: val}\r\n        }\r\n      ).then(res=> {\r\n        console.log('sbban', res)\r\n        if (res.status == 200) {\r\n          this.banActionList = res.data.data;\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n\r\n\r\n    },\r\n    // 请求承包商责任接口\r\n    getAllPersons(val) {\r\n      // debugger\r\n      this.$getHttp(`${this.$baseUrl}/CMS/contractoragreementperson/getAllPersons`, {\r\n        params: {\r\n          agreementId: val\r\n        }\r\n      }).then(res=> {\r\n        console.log('getAllPersons', res)\r\n        if (res.status == 200) {\r\n          this.contractorDuty = this.handleResData(res.data.data, '承包商责任')\r\n          console.log('this.contractorDuty', this.contractorDuty)\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n    // 请求监理单位责任接口\r\n    getQuestionManagementPerson(val) {\r\n      // debugger\r\n      this.$getHttp(`${this.$baseUrl}/CMS/contractoragreementperson/getQuestionManagementPerson`, {\r\n        params: {\r\n          contractorName: val\r\n        }\r\n      }).then(res=> {\r\n        console.log('getQuestionManagementPerson', res)\r\n        if (res.status == 200) {\r\n          this.supervisorUnitDuty = this.handleResData(res.data.data, '监理单位责任')\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n\r\n    // 请求属地单位责任接口\r\n    getPersonList(val) {\r\n      // debugger\r\n      this.$getHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/getPersonList`, {\r\n        params: {\r\n          group: val\r\n        }\r\n      }).then(res=> {\r\n        console.log('getPersonList', res)\r\n        if (res.status == 200) {\r\n          this.territoryUnitDuty = this.handleResData(res.data.data, '属地单位责任')\r\n        }\r\n      }).catch(err=> {\r\n\r\n      })\r\n    },\r\n\r\n    reset() { //  重置、清空\r\n      this.pictureId = [];\r\n      this.problemImg = [];\r\n\r\n      this.curTimeText = '';\r\n      this.isRequiredTimePopup = false;\r\n      this.requiredTime = '';\r\n      this.checkTime = '',  //  检查日期\r\n      this.overTime = '', //  要求完成时间\r\n\r\n      this.contractName = [];\r\n      this.contractNameTitle = [];\r\n      this.contractNameValue = '';\r\n      this.contractCode = '';\r\n      this.serviceType = [];\r\n      this.serviceTypeTitle = '';\r\n      this.problemOne = [];\r\n      this.problemOneTitle = '';\r\n      this.problemOneValue = '';\r\n      this.problemTwo = [];\r\n      this.problemTwoTitle = '';\r\n      this.problemTwoValue = '';\r\n      this.detailedDes = '';\r\n      this.violationRules = [];\r\n      this.violationRulesTitle = '';\r\n      this.violationRulesValue = '';\r\n      this.violationDocuments = '';\r\n      this.problemSizeClassification = '';\r\n      this.giveScore = '';\r\n      this.userInfo = {};\r\n      this.projectName = [];\r\n      this.projectNameTitle = '';\r\n      this.projectNameValue = '';\r\n      this.projectCode = '';\r\n      // this.supervisorUnit = [];\r\n      this.supervisorUnitTitle = '';\r\n      this.supervisorUnitValue = '';\r\n      this.processOption = [];\r\n      this.contractor = '';\r\n      this.territorialUnit = [];\r\n      this.territorialUnitTitle = '';\r\n      this.territorialUnitValue = '';\r\n      // this.problemClass = [];\r\n      this.problemClassTitle = '';\r\n      this.problemClassValue = '';\r\n      // this.problemSpecialty = [];\r\n      this.problemSpecialtyTitle = '';\r\n      this.problemSpecialtyValue = '';\r\n      this.description = '';\r\n      this.aBoss = '';\r\n      this.aGuardian = '';\r\n      this.bBoss = '';\r\n      this.bGuardian = '';\r\n      this.dutyOptions.forEach(item=> item.sub = 0);\r\n      this.contractorDuty = [];\r\n      this.contractorDutyTitle = '';\r\n      this.contractorDutyValue = '';\r\n      this.contractorDutyCheckData = [];\r\n      this.contractorDirector = [];\r\n      this.contractorDirectorStr = '';\r\n      this.contractorDutyResult = []\r\n\r\n      this.supervisorUnitDuty = [];\r\n      this.supervisorUnitDutyTitle = '';\r\n      this.supervisorUnitDutyValue = '';\r\n      this.supervisorUnitDutyCheckData = [];\r\n      this.supervisoryDirector = [];\r\n      this.supervisoryDirectorStr = '';\r\n      this.supervisorUnitDutyResult = [];\r\n\r\n      this.territoryUnitDuty = []\r\n      this.territoryUnitDutyResult = [];\r\n      this.territoryUnitDutyTitle = '';\r\n      this.territoryUnitDutyValue = '';\r\n      this.territoryUnitDutyCheckData = [];\r\n      this.territorialDirector = [];\r\n      this.territorialDirectorStr = '';\r\n\r\n      this.money = '';\r\n      // this.completedOnSite = [];\r\n      this.completedOnSiteTitle = '';\r\n      this.completedOnSiteValue = '';\r\n      this.violatesTheSixTitle = '';\r\n      this.violatesTheSixValue = '';\r\n      this.selectViolatesTheSixTitle = '';\r\n      this.employeesUnsafeValue = '';\r\n      this.employeesUnsafeTitle = '';\r\n      this.selectEmployeesUnsafeTitle = '';\r\n      this.contractorEmployeesUnsafeValue = '';\r\n      this.contractorEmployeesUnsafeTitle = '';\r\n      this.selectContractorEmployeesUnsafeTitle = '';\r\n      this.banActionRadio = null;\r\n      this.contractorEchoPersonID = [];\r\n      this.supervisoryEchoPersonID = [];\r\n      this.territorialEchoPersonID = []\r\n    },\r\n    async init(val) {\r\n      this.reset();\r\n      // this.getCurTime(new Date())\r\n      this.curTimeText = new Date().toLocaleDateString().replace(/\\//g, '-');\r\n      this.checkTime = new Date().toLocaleDateString().replace(/\\//g, '-');\r\n      // this.requiredTime = new Date().toLocaleString().replace(/\\//g, '-')\r\n      this.getAllAgreement();\r\n      this.getValueByCode();\r\n      this.getQuestionConf();\r\n      this.getCommitSafeCheckConf();\r\n      this.getGroupList();\r\n      this.findAllProjectName();\r\n      await this.getUserInfo();\r\n      // this.getToolData();\r\n      // this.problemList = arr;  // 无用 待删\r\n      if (val) {  //  有值的话,是点击草稿需要回显\r\n        console.log('草稿回显1', val)\r\n        this.echoId = val.id\r\n        if (val.agreementName) {\r\n          this.getAllPersons(val.agreement_id)\r\n        }\r\n        this.contractNameTitle = val.agreementName  //  合同名称\r\n        this.contractNameValue = val.agreement_id\r\n        this.contractCode = val.agreementCode   // 合同编号\r\n        this.serviceTypeTitle = val.agreementCategory //  服务类型\r\n        this.problemOneTitle = val.oneCategory //  问题管理一\r\n        this.problemTwoTitle = val.twoCategory //  问题管理二\r\n        this.problemTwoValue = val.question_id\r\n        this.detailedDes = val.category_comment  //  详细说明\r\n        this.violationRulesTitle = val.confContent  //  违反条款\r\n        this.violationRulesValue = val.safe_id\r\n        this.violationDocuments = val.programFileName //  违反文件(text、value都是这个)\r\n        this.problemSizeClassification = val.questionSize  //  问题大小分类\r\n        this.giveScore = val.score //  赋予分值\r\n        this.userInfo.userGroups[0].name = val.check_contractor //  检查单位\r\n        this.userInfo.name = val.check_user //  检查人\r\n        this.curTimeText  = val.checkTime //  检查日期\r\n        this.projectNameTitle = val.project_name //  项目名称\r\n        this.projectCode = val.project_code //  项目编码\r\n        if (val.supervisory_unit) {\r\n          this.getQuestionManagementPerson(val.supervisory_unit)\r\n        }\r\n        this.supervisorUnitTitle = val.supervisory_unit //  监理单位\r\n        this.contractor = val.contractor //  承包商\r\n        if (val.territorial_unit) {\r\n          this.getPersonList(val.territorial_unit)\r\n        }\r\n        this.territorialUnitTitle = val.territorial_unit //  属地单位\r\n        this.problemSpecialtyTitle = val.question_major //  问题专业\r\n        val.file.forEach(item=> {  //  问题图片  \r\n          this.pictureId.push(item.id)\r\n          this.problemImg.push({\r\n            imgName: item.fileName + '.' + item.fileType,\r\n            imgPath: this.$baseUrl + '/CMS/upload/' + item.filePath,\r\n            id: item.id\r\n          })\r\n        })\r\n        this.description = val.question_content //  问题描述\r\n        this.aBoss = val.a_boss //  甲方项目负责人\r\n        this.aGuardian = val.a_guardian //  甲方监护人\r\n        this.bBoss = val.b_boss //  乙方项目负责人\r\n        this.bGuardian = val.b_guardian //  乙方监护人\r\n        // 责任方高亮\r\n        this.dutyOptions[0].sub = val.contractor_director ? 1 : 0;\r\n        this.dutyOptions[1].sub = val.supervisory_director ? 1 : 0;\r\n        this.dutyOptions[2].sub = val.territorial_director ? 1 : 0;\r\n        this.contractorDutyTitle = this.handleBackStr(val.contractor_director, '承包商责任') //  承包商责任\r\n        this.contractorDirectorStr = val.contractor_director  //  传参时候的数据\r\n        this.supervisorUnitDutyTitle = this.handleBackStr(val.supervisory_director, '监理单位责任')  //  监理单位责任\r\n        this.supervisoryDirectorStr = val.supervisory_director  //  \r\n        this.territoryUnitDutyTitle = this.handleBackStr(val.territorial_director, '属地单位责任')  //  属地单位责任\r\n        this.territorialDirectorStr = val.territorial_director\r\n        // this.deductPoints = val.koufen //  扣分 **前端生成的，无用 待删\r\n        this.requiredTime = val.overTime //  要求完成时间\r\n        this.overTime = val.overTime\r\n        this.money = val.money //  考核金额\r\n        this.completedOnSiteTitle = val.is_finish //  是否现场完成(不确定)\r\n        if (val.banId) {\r\n          this.violatesTheSixTitle = '是'  //  是否违反六大禁令\r\n          this.selectViolatesTheSixTitle = val.banId\r\n          this.banId = val.ban_id\r\n        }\r\n        if (val.personId) {\r\n          this.employeesUnsafeTitle = '是'  //  是否违反员工不安全行为\r\n          this.selectEmployeesUnsafeTitle = val.personId\r\n          this.personId = val.person_id\r\n        }\r\n        if (val.cpersonId) {\r\n          this.contractorEmployeesUnsafeTitle = '是'  //  是否违反承包商人员不安全行为\r\n          this.selectContractorEmployeesUnsafeTitle = val.cpersonId\r\n          this.cpersonId = val.cperson_id\r\n        }\r\n      }\r\n    },\r\n    handleBackStr(str, text) { //  处理返回的字符串 \r\n    // debugger\r\n      if (!str) return;\r\n      let backStr = '';\r\n      str.split(',').forEach(item=> {\r\n       backStr = item.split(';')[1] + ',' + backStr\r\n       if (text == '承包商责任') {\r\n        this.contractorEchoPersonID.push(Number(item.split(';')[0]))\r\n        this.contractorDutyCheckData.push(item.split(';')[1])\r\n        this.contractorDirector.push({text:item.split(';')[1] , value: item.split(';')[0]})\r\n       }\r\n       if (text == '监理单位责任') {\r\n        this.supervisoryEchoPersonID.push(Number(item.split(';')[0]))\r\n        this.supervisorUnitDutyCheckData.push(item.split(';')[1])\r\n        this.supervisoryDirector.push({text:item.split(';')[1] , value: item.split(';')[0]})\r\n       }\r\n       if (text == '属地单位责任') {\r\n        this.territorialEchoPersonID.push(Number(item.split(';')[0]))\r\n        this.territoryUnitDutyCheckData.push(item.split(';')[1])\r\n        this.territorialDirector.push({text:item.split(';')[1] , value: item.split(';')[0]})\r\n       }\r\n      })\r\n      return backStr.slice(0, backStr.length - 1)\r\n    },\r\n  },\r\n  mounted() {\r\n    // debugger\r\n    // 接活：打包apk、更新\r\n    // this.handleBackStr('2101;阿斯哈尔·普拉提', '承包商责任') //  测试数据 待删\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  * {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  .container {\r\n    .mobile-body {\r\n      height: calc(100vh - 8.375rem);\r\n      p {\r\n          margin-top: 1rem;\r\n          margin-bottom: 0.25rem;\r\n        }\r\n      textarea {\r\n          width: 100%; \r\n          resize:none;\r\n          margin-top: -0.1rem;  \r\n          border-radius: 0.5rem;\r\n          border-color: #B4B4B4;\r\n          box-sizing: border-box;\r\n          padding: 1rem;\r\n      }\r\n      /deep/ .van-dropdown-menu__bar {  //  下拉样式\r\n        border: 1px solid #808187 !important;\r\n        border-radius: 0.5rem !important;\r\n      }\r\n      /deep/ .van-field__body { //  输入框样式\r\n        border: 1px solid #B4B4B4 !important;\r\n        border-radius: 0.25rem !important;\r\n        height: 3rem !important;\r\n        input {\r\n          text-indent: 1rem !important;\r\n        }\r\n      }\r\n      .time-frame, .img-frame {\r\n        width: 100%;\r\n        height: 3.125rem;\r\n        border: 1px solid #808187 !important;\r\n        border-radius: 0.5rem !important;\r\n        display: flex;\r\n        align-items: center;\r\n        img {\r\n          flex: 1;\r\n          width: 1.5rem;\r\n          height: 1.5rem;\r\n          vertical-align: middle;\r\n        }\r\n        span {\r\n          flex: 5;\r\n          width: 100%;\r\n          overflow: hidden;//溢出隐藏\r\n          text-overflow: ellipsis;//属性值表示当对象内文本溢出时显示省略标记，省略标记插入的位置是最后一个字符。\r\n          white-space: nowrap;//只保留一个空白，文本不会换行，会在在同一行上继续，直到遇到br标签为止\r\n        }\r\n      }\r\n      .check-box {  //  复选框样式\r\n        .van-cell {\r\n          padding: 0.625rem 1rem !important;\r\n        }\r\n      }\r\n      .van-button {\r\n        // padding: 0rem 1rem;\r\n        width: 6.5rem;\r\n        margin: 0.65rem 0.63rem 0rem 0rem;\r\n        border-radius: 0.5rem;\r\n      }\r\n    }\r\n  }\r\n  .float-button {\r\n    width: 90%;\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    bottom: 1rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .van-button {\r\n      width: 45%;\r\n    }\r\n  }\r\n  .time-popup {\r\n    padding: 1rem;\r\n    padding-bottom: 0rem;\r\n    h3 {\r\n      font-size: 1.375rem;\r\n      font-weight: 500;\r\n      color: #1E1E1E;\r\n    }\r\n    p {\r\n      font-size: 1rem;\r\n      margin: 1rem 0rem;\r\n    }\r\n    /deep/ .van-picker {\r\n      position: relative;\r\n      .van-picker__toolbar {\r\n        position: absolute;\r\n        right: 0rem;\r\n        bottom: 0.2rem;\r\n        z-index: 2;\r\n        font-size: 0.875rem;\r\n      }\r\n      .van-picker__columns {\r\n        box-sizing: border-box;\r\n        padding-bottom: 2.8rem;\r\n      }\r\n    }\r\n  }\r\n  .upload-popup {\r\n    .van-cell {\r\n      // padding: 0rem 1rem 0rem 1rem;\r\n      padding: 1rem;\r\n      .van-icon-arrow:before {\r\n        content: ''\r\n      }\r\n    }\r\n  }\r\n  .tips-box {\r\n    z-index: 5;\r\n    width: 95%;\r\n    height: 3.25rem;\r\n    color: white;\r\n    display: flex;\r\n    margin: auto;\r\n    background: rgba(0, 0, 0, 0.87);\r\n    text-align: center;\r\n    align-items: center;\r\n    box-shadow: 0px 4px 5px rgba(0, 0, 0, 0.14), 0px 1px 10px rgba(0, 0, 0, 0.12), 0px 2px 4px rgba(0, 0, 0, 0.2);\r\n    span:nth-child(1) {\r\n      flex: 3;\r\n    }\r\n    span:nth-child(2) {\r\n      flex: 2;\r\n    }\r\n    span:nth-child(3) {\r\n      flex: 1;\r\n    }\r\n  }\r\n  .tips-text {\r\n    margin-left: 1rem;\r\n    font-size: 0.75rem;\r\n    color: #808187;\r\n  }\r\n  .ban-action-box {\r\n    box-sizing: border-box;\r\n    padding: 0rem 1rem 1rem 1rem;\r\n    height: calc(100vh - 5.375rem);\r\n    overflow: auto;\r\n    .item {\r\n      margin: 0.5rem 0rem;\r\n      span {\r\n        font-size: 0.75rem;\r\n        color: #808187;\r\n      }\r\n    }\r\n  }\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./problemManageAdd.vue?vue&type=template&id=629837a0&scoped=true&\"\nimport script from \"./problemManageAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./problemManageAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./problemManageAdd.vue?vue&type=style&index=0&id=629837a0&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"629837a0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<!-- 问题管理主页 -->\r\n  <div class=\"problem-mange-index\">\r\n    <div class=\"title\">\r\n      <navBar :titleText=\"'问题管理'\" :svgIconRight='screenSvg' @clickRight='showScreen'></navBar>\r\n    </div>\r\n    <div class=\"problem-mange-body\">\r\n    <div v-if=\"draftList.length != 0\">\r\n      <div class=\"draft-item\" v-for=\"item in draftList\" :key=\"item.id\" @click=\"continueEditing(item)\">\r\n        <p>{{item.agreementName ? item.agreementName : '问题标题'}}</p>\r\n        <span class=\"draft\" @click=\"clickCg\">草稿</span>\r\n      </div>\r\n    </div>\r\n      <div  v-if=\"problemList.length != 0\">\r\n        <div class=\"problem-mange-item\" v-for=\"item in problemList\" :key=\"item.id\" @click=\"toProblemMangeDetails(item)\">\r\n          <img :src=\"extraUrgent\">\r\n          <h3>{{item.agreementName}}</h3>\r\n          <p><span :style=\"item.Mstate == '已解决' ?'color: #02CD53' : item.Mstate == '待验证' ? 'color: #9133EF' : item.Mstate == '待处理' ? 'color: #00A3FF' : ''\">{{item.Mstate}}</span> {{item.unit}}</p>\r\n          <p><span style=\"color: #B4B4B4\">解决期限：</span> {{item.overTime}}</p>\r\n        </div>\r\n      </div>\r\n      <van-empty\r\n        v-else\r\n        class=\"custom-image\"\r\n        :image=\"require('@/assets/problemManageSvg/empty-img-simple.png')\"\r\n        description=\"无问题项\"\r\n      />\r\n    </div>\r\n    <div v-show=\"!show\" class=\"float-button\">\r\n        <van-button type=\"info\" @click=\"showAdd\">\r\n          <img :src=\"add\">\r\n          <span v-show=\"!btnTextVisible\">新增问题</span>\r\n        </van-button>\r\n    </div>\r\n    <!-- 问题筛选弹窗 start -->\r\n    <van-popup\r\n    v-model=\"show\"\r\n    position=\"bottom\"\r\n    :style=\"{ height: '100%' }\"\r\n    duration='0'\r\n    >\r\n      <problemManageScreen @changeClose='changeClose'></problemManageScreen>\r\n    </van-popup>\r\n    <!-- 问题筛选弹窗 end -->\r\n\r\n     <!-- 问题新增页面 start -->\r\n    <van-popup\r\n    v-model=\"addShow\"\r\n    position=\"bottom\"\r\n    :style=\"{ height: '100%' }\"\r\n    duration='0'\r\n    >\r\n      <problemManageAdd ref=\"problemManageAdd\" @changeClose=\"changeClose\"></problemManageAdd>\r\n    </van-popup>\r\n    <!-- 问题新增页面 end -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navBar from '@/components/navBar.vue';\r\nimport problemManageScreen from '@/views/problemMange/problemManageScreen.vue';\r\nimport problemManageAdd from '@/views/problemMange/problemManageAdd.vue';\r\n\r\nexport default {\r\n  name: 'ProblemManageIndex',\r\n  components: {\r\n    navBar,\r\n    problemManageScreen,\r\n    problemManageAdd\r\n  },\r\n  data() {\r\n    return {\r\n      btnTextVisible: false,\r\n      show: false,\r\n      addShow: false,\r\n      draftList: [{agreementName: '2018-2022年独山子石化公司安全阀校验及维修框架2018-JD-XL-014'},{agreementName: ''}, {agreementName: '2018-2022年独山子石化公司安全阀校验及维修框架2018-JD-XL-014'},{agreementName: ''}],\r\n      problemList: [],\r\n      screenSvg: require('@/assets/problemManageSvg/screen.svg'),\r\n      extraUrgent: require('@/assets/problemManageSvg/extraUrgent.svg'),\r\n      urgent: require('@/assets/problemManageSvg/urgent.svg'),\r\n      commonly: require('@/assets/problemManageSvg/commonly.svg'),\r\n      add: require('@/assets/problemManageSvg/add.svg'),\r\n    }\r\n  },\r\n  methods: {\r\n    toProblemMangeDetails(item) {\r\n      this.$router.push({name: 'ProblemMangeDetails', query: {item}})\r\n    },\r\n    showAdd() {\r\n      this.addShow = true;\r\n      this.$nextTick(()=> {\r\n        this.$refs.problemManageAdd.init()\r\n      })\r\n    },\r\n    showScreen() {\r\n      this.show = true;\r\n    },\r\n    continueEditing(val) {\r\n      this.addShow = true;\r\n      this.$nextTick(()=> {\r\n        this.$refs.problemManageAdd.init(val)\r\n      })\r\n    },\r\n    clickCg() {\r\n      \r\n    },\r\n    changeClose(params) {\r\n      // debugger \r\n      if (!params) {\r\n        this.show = false;\r\n        this.addShow = false;\r\n        this.getProblemList()\r\n        this.getDraftList()\r\n        return;\r\n      }\r\n\r\n      let isFilterState = Object.keys(params).some(item=> params[item]); //  是否有筛选条件\r\n      if (isFilterState) { //  \r\n        this.screenSvg = require('@/assets/problemManageSvg/screen_select.svg');\r\n      } else {\r\n        this.screenSvg = require('@/assets/problemManageSvg/screen.svg');\r\n      }\r\n      this.getProblemList(params);\r\n      this.getDraftList()\r\n      this.show = false;\r\n    },\r\n    getDraftList() {  //  获取草稿数据\r\n      // this.draftList = [];\r\n      this.$postHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/getQuestion`, {state: \"NOSUBMIT\"}).then(res=> {\r\n        debugger\r\n        console.log('getDraftList', res)\r\n        if (res.data.code == 200) {\r\n          this.draftList = res.data.data.question;\r\n          console.log('this.draftList' ,this.draftList)\r\n        }\r\n      }).catch(err=> {\r\n        // debugger\r\n      })\r\n    },\r\n    getProblemList(params) {\r\n      this.problemList = [];\r\n      this.$postHttp(`${this.$baseUrl}/CMS/agreementquestionmanagement/getQuestion`, params ? params : {}).then(res=> {\r\n        debugger\r\n        console.log('getQuestion', res)\r\n        if (res.data.code == 200) {\r\n          this.problemList = res.data.data.question;\r\n          console.log('this.problemList' ,this.problemList)\r\n        }\r\n      }).catch(err=> {\r\n        // debugger\r\n      })\r\n    },\r\n    changeScroll() {\r\n      let timeoutHdr = null\r\n      // 开始滚动时执行的代码\r\n      console.log('详情')\r\n      this.btnTextVisible = true;\r\n      window.clearTimeout(timeoutHdr)\r\n      timeoutHdr = window.setTimeout(() => {\r\n        // 滚动停止时执行的代码\r\n        this.btnTextVisible = false;\r\n      }, 101)\r\n    }\r\n  },\r\n  mounted() {\r\n    // debugger\r\n    this.getProblemList()\r\n    this.getDraftList()\r\n    if (document.querySelector('.problem-mange-body')) {\r\n      document.querySelector('.problem-mange-body').addEventListener('scroll', this.changeScroll);\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    // debugger\r\n    if (document.querySelector('.problem-mange-body')) {\r\n      document.querySelector('.problem-mange-body').removeEventListener('scroll', this.changeScroll)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  * {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  .problem-mange-index {\r\n    .draft-item {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin: 2rem 0rem;\r\n      p {\r\n        flex: 9;\r\n        font-size: 0.875rem;\r\n        overflow: hidden;//溢出隐藏\r\n        text-overflow: ellipsis;//属性值表示当对象内文本溢出时显示省略标记，省略标记插入的位置是最后一个字符。\r\n        white-space: nowrap;//只保留一个空白，文本不会换行，会在在同一行上继续，直到遇到br标签为止\r\n      }\r\n      .draft {\r\n        flex: 1;\r\n        font-size: 0.875rem;\r\n        color: #808187;\r\n        margin-left: 1rem;\r\n      }\r\n    }\r\n    .problem-mange-body {\r\n      height: calc(100vh - 4.375rem);\r\n      overflow: auto;\r\n      box-sizing: border-box;\r\n      padding: 1rem;\r\n      padding-top: 0rem;\r\n      .problem-mange-item {\r\n        box-sizing: border-box;\r\n        padding: 1rem;\r\n        font-weight: 400;\r\n        h3 {\r\n          margin: 0.25rem 0rem;\r\n          font-size: 0.875rem;\r\n          font-weight: 400;\r\n        }\r\n        p {\r\n          margin: 0.25rem 0rem;\r\n          font-size: 0.75rem;\r\n          color: #808187;\r\n        }\r\n      }\r\n    }\r\n    .float-button {\r\n      position: fixed;\r\n      right: 1rem;\r\n      bottom: 1rem;\r\n      .van-button {\r\n        border-radius: 1rem;\r\n        font-size: 0.875rem;\r\n        background: #0247fe;\r\n        padding: 1rem;\r\n        img {\r\n          vertical-align: middle;\r\n          margin-right: 0.25rem;\r\n        }\r\n      }\r\n    }\r\n    .van-empty {\r\n      height: calc(100vh - 5rem);\r\n      /deep/ .van-empty__image {\r\n        width: 5rem;\r\n        height: 4rem;\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemManageIndex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./problemManageIndex.vue?vue&type=template&id=4028672c&scoped=true&\"\nimport script from \"./problemManageIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./problemManageIndex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./problemManageIndex.vue?vue&type=style&index=0&id=4028672c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4028672c\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAoCAYAAABOzvzpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPQSURBVHgB7ZpLThtBEIbLxjwkkDIRLJAQ8iAhsYx3LBkvEY/gE9icAHICwwliToBzguEplsAJMCfwACsWSJMFEm/y/5MJcYxjz4y7jY35pFa35XZPV01Vd1e1Y6IQ27aNvr6+LJqGaOD5+dm5v7/fzmQyrigiLoo4ODgwIfwJmpZoIhaLWYlE4oSKFkUkRBGPj4+bmGBxbm5uXTSyt7f3vbe310YzLe3C7u5uYX9/35YWASUUUTZFAU27AIRfw5ufubu7W5YWgXVgFVWKz5YmiUkT+BPIPjw8pLEwOdJCuOY8PT0dYmHcmJ+fL0hEIlvAzs5OTt5IeDI7O+vE4/E0rG8F7pCViESyAPh7CpUNs38T4avnAkuwoYwMFuCShCS0BdD0UNlY9b+9tfDEF3oZrnCI7dGUkIRSwB+/Q7OwuLi4JW3CwsLCEap1nBFCKyGwC/inPB50tO/1UYE75GEJS9gl0kFPi4EtwD98tK3wxJ/bkT9XdbT6oNMsYQ5KDV0AgudgVjzmbqEOYlYuTHBD9QLJ1R7PDxRoYa4GXQHNHM4IP+r1DRILJEdGRmR4eHgpQF/BuUAcx8lhwuko21ItuPhimzscGxsz+vv7A/3m6uqKxWzUL1AwNDg4KKOjoxIUKME4Pz/Po5kRBWDnyU9OThph5nBzc+MpoRHKwuFKOFFMOiXqsIaGhkQHWhSA/djzQ1EE/NkYGBgQHWhTgAFURGtYzVc5FsfUgZ5RwdTUlJyenuYhwIxEh28+xbF0oU0BNNnp6WlxXdeSiPCtcxxdb997hmgG1ivtjJY1oJP4UIB0OR8KkC6n6xVQcxssl8uMvr4ypLy8vFR5pm8piGJXIYsFWbYQm2xPTEw41X1eFICOBjpmKTSKhR/IO4CHEMpioS5AxhJkLCSTyZccgecC+IKxfhkdCxRe3i9MoRchb/ns7My7S0igvYY6L92F6SviMy1gpV7Pnp4eL8vTaQSccz6OuL1u2orByPX1tXQazAYxk9UANw6f562u878eHARXYMzzSafAuXIRb6AAByX9khWGP+Tk91pgVvdEltcbFBcjnku0M7iy88r4+DjvMmp1YWabt8kb2BbdV2lxJDO/YgDuCiz/xLKd4Ap8QTXSZy7T+viuCMUcV35R917g4uJihslNbo3+9tjewf1fKPARC/b9UrXQlYS6HudhCdmZL1QKiokHUDlUiimtVw5NmYKW+O8xCOqg7cB6j2naQQdp6h8ilVA5qEwo6BOVUqEYLkhGVZbYkNcKcyo/8BYKQnlC+kUoJMzYub29/RlGyHr8Am9vxiIOdTe3AAAAAElFTkSuQmCC\""],"sourceRoot":""}