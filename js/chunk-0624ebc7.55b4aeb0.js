(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0624ebc7"],{4356:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this;e._self._c;return e._m(0)},s=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"}},[t("div",{staticClass:"logo"}),t("div",{staticClass:"logoName"},[e._v("中国石油天然气股份有限公司")]),t("div",{staticClass:"logoNameFirm"},[e._v("独山子石化分公司")]),t("div",{staticClass:"logoBackground"})])}],n=a("bc3a"),i=a.n(n),l={async created(){const e=JSON.parse(window.localStorage.getItem("userCookie")),t=JSON.parse(window.localStorage.getItem("userMassage"));if(console.log("cookie111234",e),console.log("userMassage111234",t),e){i.a.defaults.headers={header:{"content-type":"application/x-www-form-urlencoded",Authorization:e}};const a=await this.$getHttp(this.$baseUrl+"/OS-PM/mobile/v1.0/getVersionInfo",{params:{clientVersion:"1.0.0"}});if(console.log("VersionVersion",a),a&&200===a.status)if(console.log("loadingScreen666",a,t),"1"===a.data.updateFlag)setTimeout(()=>{this.$router.push({name:"update",query:{update:a.data}})},3e3);else if("2"===a.data.updateFlag){const e=plus.downloader.createDownload(`${this.$baseUrl}/OS-PM/${a.data.pkgUrl}`,{force:!0},(function(e,t){if(console.log("createDownload",e,t),200==t){var a=e.filename;plus.runtime.install(a,{force:!0},(function(){plus.nativeUI.closeWaiting(),console.log("安装wgt文件成功！"),plus.nativeUI.alert("应用资源更新完成！",(function(){plus.runtime.restart()}))}),(function(e){plus.nativeUI.closeWaiting(),console.log("安装wgt文件失败["+e.code+"]："+e.message),plus.nativeUI.alert("安装wgt文件失败["+e.code+"]："+e.message)}))}else alert("Download failed: "+t)}));e.start();let t=0,o=plus.nativeUI.showWaiting("正在下载");e.addEventListener("statechanged",(function(e,a){switch(e.state){case 1:o.setTitle("正在下载");break;case 3:t=parseInt(parseFloat(e.downloadedSize)/parseFloat(e.totalSize)*100),o.setTitle("  正在下载"+t+"%  ");break;case 4:plus.nativeUI.closeWaiting();break}}))}else setTimeout(()=>{t&&t.isLogin?this.$router.push({name:"Home"}):this.$router.push({name:"Login"})},3e3);console.log(a)}else console.log("loadingScreen77",t),setTimeout(()=>{t&&t.isLogin?this.$router.push({name:"Home"}):this.$router.push({name:"Login"})},3e3)}},r=l,c=(a("a9e8"),a("2877")),u=Object(c["a"])(r,o,s,!1,null,null,null);t["default"]=u.exports},"6a42":function(e,t,a){},a9e8:function(e,t,a){"use strict";a("6a42")}}]);
//# sourceMappingURL=chunk-0624ebc7.55b4aeb0.js.map