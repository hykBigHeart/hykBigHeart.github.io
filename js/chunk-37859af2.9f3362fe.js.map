{"version":3,"sources":["webpack:///./src/views/selectDevice.vue","webpack:///src/views/selectDevice.vue","webpack:///./src/views/selectDevice.vue?2d62","webpack:///./src/views/selectDevice.vue?1d15","webpack:///./src/views/selectDevice.vue?63f3","webpack:///./node_modules/core-js/internals/html.js","webpack:///./src/views/selectDepartment.vue","webpack:///src/views/selectDepartment.vue","webpack:///./src/views/selectDepartment.vue?0c8b","webpack:///./src/views/selectDepartment.vue?c93d","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./src/views/selectDepartment.vue?a653","webpack:///./src/assets/close.svg","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/assets/left_back.svg","webpack:///./src/components/navBar.vue","webpack:///src/components/navBar.vue","webpack:///./src/components/navBar.vue?45b4","webpack:///./src/components/navBar.vue?0d30","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./src/components/navBar.vue?3631"],"names":["render","_vm","this","_c","_self","staticClass","attrs","svgIcon","on","changeClose","directives","name","rawName","value","includes","expression","showSelectDepartment","_v","_s","$store","getters","getDepartment","model","radio","callback","$$v","_l","deviceList","item","i","key","id","deviceName","$event","clickRadio","scopedSlots","_u","fn","proxy","define","style","height","show","close","currentClose","staticRenderFns","props","type","default","components","navBar","selectDepartment","data","deviceId","methods","showPopup","query","init","organizationId","then","res","catch","err","mounted","component","getBuiltIn","module","exports","departmentList","label","arr","result","DESCRIPTORS","V8_PROTOTYPE_DEFINE_BUG","definePropertyModule","anObject","toIndexedObject","objectKeys","f","Object","defineProperties","O","Properties","keys","length","index","wellKnownSymbol","create","defineProperty","UNSCOPABLES","ArrayPrototype","Array","prototype","undefined","configurable","activeXDocument","definePropertiesModule","enumBugKeys","hiddenKeys","html","documentCreateElement","sharedKey","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","display","appendChild","src","String","contentWindow","document","open","F","NullProtoObject","ActiveXObject","error","domain","$","$includes","fails","addToUnscopables","BROKEN_ON_SPARSE","target","proto","forced","el","arguments","clickLeft","clickRight","titleText","_t","svgIconRight","internalObjectKeys"],"mappings":"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","file":"js/chunk-37859af2.9f3362fe.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"select-device\"},[_c('navBar',{attrs:{\"svgIcon\":_vm.svgIcon,\"titleText\":'选择装置'},on:{\"changeClose\":_vm.changeClose}}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.svgIcon.includes('close')),expression:\"svgIcon.includes('close')\"}],on:{\"click\":_vm.showSelectDepartment}},[_vm._v(_vm._s(_vm.$store.getters.getDepartment))]),_c('van-radio-group',{model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('van-cell-group',_vm._l((_vm.deviceList),function(item,i){return _c('van-cell',{key:item.id,attrs:{\"title\":item.deviceName,\"clickable\":\"\"},on:{\"click\":function($event){return _vm.clickRadio(i, item.id)}},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-radio',{attrs:{\"name\":i}})]},proxy:true}],null,true)})}),1)],1),_c('van-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.svgIcon.includes('close')),expression:\"!svgIcon.includes('close')\"}],attrs:{\"disabled\":_vm.radio <= -1,\"round\":\"\",\"type\":\"info\",\"native-type\":\"submit\"},on:{\"click\":_vm.define}},[_vm._v(\"确定\")]),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\",\"duration\":\"0\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('selectDepartment',{attrs:{\"svgIcon\":_vm.close},on:{\"changeClose\":_vm.currentClose}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 选择装置 (项目进度 点下拉按钮 也展示这个公用的页面) -->\r\n  <div class=\"select-device\">\r\n    <navBar :svgIcon='svgIcon' :titleText=\"'选择装置'\" @changeClose='changeClose'></navBar>\r\n    <p v-show=\"svgIcon.includes('close')\" @click=\"showSelectDepartment\">{{$store.getters.getDepartment}}</p>\r\n    <van-radio-group v-model=\"radio\">\r\n      <van-cell-group>\r\n        <van-cell v-for=\"(item, i) in deviceList\" :key=\"item.id\" :title=\"item.deviceName\" clickable @click=\"clickRadio(i, item.id)\">\r\n          <template #right-icon>\r\n            <van-radio :name=\"i\" />\r\n          </template>\r\n        </van-cell>\r\n      </van-cell-group>\r\n    </van-radio-group>\r\n    <van-button v-show=\"!svgIcon.includes('close')\" :disabled='radio <= -1' round type=\"info\" native-type=\"submit\" @click=\"define\">确定</van-button>\r\n    <!-- 弹出 选择部门 start -->\r\n    <van-popup\r\n    v-model=\"show\"\r\n    position=\"bottom\"\r\n    :style=\"{ height: '100%' }\"\r\n    duration='0'\r\n    >\r\n      <selectDepartment :svgIcon=\"close\" @changeClose='currentClose'></selectDepartment>\r\n    </van-popup>\r\n    <!-- 弹出 选择部门 end -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navBar from '@/components/navBar.vue';\r\nimport selectDepartment from '@/views/selectDepartment.vue';\r\n\r\nexport default {\r\n  name: 'SelectDevice',\r\n  props: {\r\n    svgIcon: {\r\n      type: String,\r\n      default: ()=> require('../assets/left_back.svg')\r\n    },\r\n  },\r\n  components: {\r\n    navBar,\r\n    selectDepartment\r\n  },\r\n  data() {\r\n    return {\r\n      radio: -1,\r\n      deviceId: null, //  装置id\r\n      deviceList: [],\r\n      close: require('../assets/close.svg'),\r\n      show: false\r\n    }\r\n  },\r\n  methods: {\r\n    showPopup() {\r\n    },\r\n    clickRadio(e, id) {\r\n      // debugger\r\n      this.radio = e;\r\n      this.deviceId = id;\r\n      if (this.svgIcon.includes('close')) {\r\n        this.$store.commit('changeDevice', this.deviceList[this.radio].deviceName)\r\n        this.$emit('changeClose')\r\n      }\r\n    },\r\n    define() {\r\n      // debugger\r\n      this.$router.push({name: 'ProjectProgress', query: {deviceId: this.deviceId}})\r\n      this.$store.commit('changeDevice', this.deviceList[this.radio].deviceName)\r\n    },\r\n    changeClose() {\r\n      this.$emit('changeClose')\r\n    },\r\n    showSelectDepartment() {\r\n      this.show = true;\r\n    },\r\n    currentClose() {\r\n      this.show = false;\r\n      this.init()\r\n    },\r\n    init() {\r\n      // debugger\r\n      this.radio = -1;\r\n      this.$postHttp(`${this.$baseUrl}/OS-PM/device/findOrganization`, {  //  获取装置\r\n        organizationId: this.$store.getters.getOrganizationId\r\n      }).then(res=> {\r\n        // debugger\r\n        if (res.status == 200) {\r\n          // debugger\r\n          this.deviceList = res.data;\r\n        }\r\n      }).catch(err => {\r\n        // debugger\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    // debugger\r\n    this.init();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  .select-device {\r\n      // text-align: center;\r\n    .van-icon-arrow:before {  //  箭头颜色\r\n      color: white;\r\n    }\r\n    .van-button {\r\n      width: 90%;\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 1rem;\r\n      margin: auto;\r\n    }\r\n    p {\r\n      color: #1F4BF4;\r\n      margin-left: 1rem;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectDevice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectDevice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectDevice.vue?vue&type=template&id=bc4d84ea&scoped=true&\"\nimport script from \"./selectDevice.vue?vue&type=script&lang=js&\"\nexport * from \"./selectDevice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectDevice.vue?vue&type=style&index=0&id=bc4d84ea&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc4d84ea\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectDevice.vue?vue&type=style&index=0&id=bc4d84ea&prod&lang=less&scoped=true&\"","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"select-department\"},[_c('navBar',{attrs:{\"svgIcon\":_vm.svgIcon,\"titleText\":'选择部门'},on:{\"changeClose\":_vm.changeClose}}),_vm._l((_vm.departmentList),function(item){return _c('van-cell',{key:item.id,attrs:{\"is-link\":\"\"},on:{\"click\":function($event){return _vm.showPopup(item)}}},[_vm._v(_vm._s(item.label))])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 选择部门 -->\r\n  <div class=\"select-department\">\r\n    <navBar :svgIcon='svgIcon' :titleText=\"'选择部门'\" @changeClose='changeClose'></navBar>\r\n    <van-cell v-for=\"(item) in departmentList\" :key=\"item.id\" is-link @click=\"showPopup(item)\">{{item.label}}</van-cell>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navBar from '@/components/navBar.vue'\r\nexport default {\r\n  name: 'SelectDepartment',\r\n  props: {\r\n    svgIcon: {\r\n      type: String,\r\n      default: ()=> require('../assets/left_back.svg')\r\n    },\r\n  },\r\n  components: {\r\n    navBar\r\n  },\r\n  data() {\r\n    return {\r\n      departmentList: [],\r\n    }\r\n  },\r\n  methods: {\r\n    changeClose() {\r\n      this.$emit('changeClose')\r\n    },\r\n    showPopup(val) {\r\n      this.$store.commit('changeOrganizationId', val.id)\r\n      if(this.svgIcon.includes('close')) {\r\n        this.$emit('changeClose');\r\n      } else {\r\n        // debugger\r\n        this.$router.push({name: 'SelectDevice'})\r\n        // this.$router.push({name: 'SelectDevice', query: {organizationId: val.id}})\r\n      }\r\n      this.$store.commit('changeDepartment', val.label)\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$getHttp(`${this.$baseUrl}/OS-PM/organization/getTree`).then(res=> {  //  获取部门\r\n      // debugger\r\n      if (res.status == 200) {\r\n         function flat(arr) {\r\n          // debugger\r\n          let result = [];\r\n          arr.forEach(item=> {\r\n            if (item.children.length != 0) {\r\n              result.push(item)\r\n              result = result.concat(flat(item.children))\r\n            } else {\r\n              result.push(item)\r\n            }\r\n          })\r\n          return result\r\n        }\r\n        // debugger\r\n        this.departmentList = flat(res.data)\r\n      }\r\n    }).catch(err => {\r\n      // debugger\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  .select-department {\r\n    .van-icon-arrow:before {  //  箭头颜色\r\n      color: #1F4BF4;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectDepartment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectDepartment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectDepartment.vue?vue&type=template&id=46c9af5b&scoped=true&\"\nimport script from \"./selectDepartment.vue?vue&type=script&lang=js&\"\nexport * from \"./selectDepartment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectDepartment.vue?vue&type=style&index=0&id=46c9af5b&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46c9af5b\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es-x/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es-x/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectDepartment.vue?vue&type=style&index=0&id=46c9af5b&prod&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/close.e7685cae.svg\";","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","module.exports = __webpack_public_path__ + \"img/left_back.cec8506f.svg\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"nav-bar\"},[_c('van-nav-bar',{on:{\"click-left\":_vm.clickLeft,\"click-right\":_vm.clickRight},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('img',{attrs:{\"src\":_vm.svgIcon}})]},proxy:true},{key:\"title\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.titleText)+\" \"),_vm._t(\"default\")]},proxy:true},{key:\"right\",fn:function(){return [_c('img',{attrs:{\"src\":_vm.svgIconRight}})]},proxy:true}],null,true)})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- 公共头部导航栏 -->\r\n  <div class=\"nav-bar\">\r\n    <van-nav-bar @click-left=\"clickLeft\" @click-right=\"clickRight\">\r\n      <template #left>\r\n        <img :src=\"svgIcon\">\r\n      </template>\r\n      <template #title>\r\n        {{titleText}}\r\n        <slot></slot>\r\n      </template>\r\n      <template #right>\r\n        <img :src=\"svgIconRight\">\r\n      </template>\r\n    </van-nav-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'NavBar',\r\n  props: {\r\n    svgIcon: {\r\n      type: String,\r\n      default: ()=> require('../assets/left_back.svg')\r\n    },\r\n    svgIconRight: {\r\n      type: String,\r\n      default: ()=> ''\r\n    },\r\n    titleText: {\r\n      type: String,\r\n      default: ()=> ''\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // left_back: require('../assets/left_back.svg')\r\n    }\r\n  },\r\n  methods: {\r\n    clickLeft() {\r\n      // debugger\r\n      if(this.svgIcon.includes('close')) {  //  如果为关闭的图标就调用父组件方法\r\n        this.$emit('changeClose')\r\n      } else {\r\n        this.$router.back();\r\n      }\r\n\r\n    },\r\n    clickRight() {\r\n      this.$emit('clickRight')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  .nav-bar {\r\n    box-sizing: border-box;\r\n    padding: 0.75rem 0rem;\r\n    ::v-deep .van-nav-bar__title {\r\n      font-size: 1.375rem;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navBar.vue?vue&type=template&id=28ca8737&scoped=true&\"\nimport script from \"./navBar.vue?vue&type=script&lang=js&\"\nexport * from \"./navBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./navBar.vue?vue&type=style&index=0&id=28ca8737&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28ca8737\",\n  null\n  \n)\n\nexport default component.exports","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es-x/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navBar.vue?vue&type=style&index=0&id=28ca8737&prod&lang=less&scoped=true&\""],"sourceRoot":""}